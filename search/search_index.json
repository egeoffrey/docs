{"config":{"lang":["en"],"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"I'm eGeoffrey, your e-butler 'Sir, Madam, do you require anything of me?' eGeoffrey is a new concept which brings many ideas into one single place; eGeoffrey does some home automation, it keeps you updated on what's going on at home, it alerts you on events, helps you to organize your home duties, you can easily interact with it, ... and, what's even better, it can acquire new skills over time. eGeoffrey is an open source, flexible and extensible framework , which can be used in many ways to fit more demanding people on earth's needs. It can live with you at home (no extra room needed though), or you can get its services straight from \"the cloud\" , wherever this thing is. Some of its skills Not limited to, eGeoffrey's skills can be categorized among the following areas: Real-time home monitoring which provides information such as temperature, power consumption, images taken from home, etcetera. Analytical brain which remembers all the real-time information produced and provides some insights of them over time. eGeoffrey can proactively send you emails with these insights on a daily basis to keep you up to date conveniently. Surveillance and preventive spirit by alerting you on events such as those when temperature threshold's limits are surpassed and some negative consequences might happen. Committed to your command by the use of its different user interfaces; you can also text eGeoffrey from your instant messaging platform of choice such as Slack, Telegram and many others. Open to the world as eGeoffrey is also able to contextualize home-generated information with external one provided by third-party providers such as weather services for weather forecasting. Is this not enough for you? No worries, the best skill eGeoffrey already has is the ability to learn new skills . Said this, eGeoffrey skills' are endless and, whatever skills you have in mind, eGeoffrey will learn them and will use them to satisfy your needs with its best smile. User documentation portal This documentation portal is aimed at people who want to have its own eGeoffrey at home with its default skills. If you're thinking of teaching eGeoffrey new skills, you better visit eGeoffrey's developers portal . The portal is organized in the following sections which follows the typical configuration workflow: Installation : how to install eGeoffrey in your house on e.g. a Raspberry Pi device Initial Setup : overview of the web interface, post-installation tasks and house setup Configuring your eGeoffrey : configure your own sensors, add additional capabilities, create your rules","title":"Welcome"},{"location":"#im-egeoffrey-your-e-butler","text":"'Sir, Madam, do you require anything of me?' eGeoffrey is a new concept which brings many ideas into one single place; eGeoffrey does some home automation, it keeps you updated on what's going on at home, it alerts you on events, helps you to organize your home duties, you can easily interact with it, ... and, what's even better, it can acquire new skills over time. eGeoffrey is an open source, flexible and extensible framework , which can be used in many ways to fit more demanding people on earth's needs. It can live with you at home (no extra room needed though), or you can get its services straight from \"the cloud\" , wherever this thing is.","title":"I'm eGeoffrey, your e-butler"},{"location":"#some-of-its-skills","text":"Not limited to, eGeoffrey's skills can be categorized among the following areas: Real-time home monitoring which provides information such as temperature, power consumption, images taken from home, etcetera. Analytical brain which remembers all the real-time information produced and provides some insights of them over time. eGeoffrey can proactively send you emails with these insights on a daily basis to keep you up to date conveniently. Surveillance and preventive spirit by alerting you on events such as those when temperature threshold's limits are surpassed and some negative consequences might happen. Committed to your command by the use of its different user interfaces; you can also text eGeoffrey from your instant messaging platform of choice such as Slack, Telegram and many others. Open to the world as eGeoffrey is also able to contextualize home-generated information with external one provided by third-party providers such as weather services for weather forecasting. Is this not enough for you? No worries, the best skill eGeoffrey already has is the ability to learn new skills . Said this, eGeoffrey skills' are endless and, whatever skills you have in mind, eGeoffrey will learn them and will use them to satisfy your needs with its best smile.","title":"Some of its skills"},{"location":"#user-documentation-portal","text":"This documentation portal is aimed at people who want to have its own eGeoffrey at home with its default skills. If you're thinking of teaching eGeoffrey new skills, you better visit eGeoffrey's developers portal . The portal is organized in the following sections which follows the typical configuration workflow: Installation : how to install eGeoffrey in your house on e.g. a Raspberry Pi device Initial Setup : overview of the web interface, post-installation tasks and house setup Configuring your eGeoffrey : configure your own sensors, add additional capabilities, create your rules","title":"User documentation portal"},{"location":"help/","text":"I Need Help We hope the information available in this website have been helpful for installing, setting up and configuring your eGeoffrey. But in case you need any additional help, those additional resources are available to you: Forum : in our forum you can meet our community, get useful advices and share best practices. Developer Portal : if you want to extend eGeoffrey and make it better, visit our website for Developers to understand more about its architecture and internals and guidelines on how to contribute. Github : If you discovered a bug, want to submit an enhancement request or simply want to contribute to eGeoffrey core and out-of-the-box components, visit our Github page, open up issues or submit PR requests.","title":"Need Help?"},{"location":"help/#i-need-help","text":"We hope the information available in this website have been helpful for installing, setting up and configuring your eGeoffrey. But in case you need any additional help, those additional resources are available to you: Forum : in our forum you can meet our community, get useful advices and share best practices. Developer Portal : if you want to extend eGeoffrey and make it better, visit our website for Developers to understand more about its architecture and internals and guidelines on how to contribute. Github : If you discovered a bug, want to submit an enhancement request or simply want to contribute to eGeoffrey core and out-of-the-box components, visit our Github page, open up issues or submit PR requests.","title":"I Need Help"},{"location":"howto/","text":"HOW TOs If you are looking for real life examples and step-by-step configuration guides, our community is publishing interesting HOW TOs in our Forum . Please find a list of the most interesting ones below: Installing Raspbian from scratch onto a RPi3 Model B Install eGeoffrey and create a simple working system Make up a shared Shopping List in eGeoffrey Setup a simple weather station with eGeoffrey Give eGeoffrey your Google Home Mini voice Let eGeoffrey manage your alarm system Monitor your RaspberryPi health with eGeoffrey Get notified when an earthquake takes place nearby Have eGeoffrey keeping an eye on your webcams Let eGeoffrey manage your alarm system Control your heater with eGeoffrey Automate your workflows by integrating eGeoffrey with IFTTT Create a weather station If you have put together something interesting and want to share with other users, feel free to post yout HOW TO in our Forum .","title":"HOW TOs"},{"location":"howto/#how-tos","text":"If you are looking for real life examples and step-by-step configuration guides, our community is publishing interesting HOW TOs in our Forum . Please find a list of the most interesting ones below: Installing Raspbian from scratch onto a RPi3 Model B Install eGeoffrey and create a simple working system Make up a shared Shopping List in eGeoffrey Setup a simple weather station with eGeoffrey Give eGeoffrey your Google Home Mini voice Let eGeoffrey manage your alarm system Monitor your RaspberryPi health with eGeoffrey Get notified when an earthquake takes place nearby Have eGeoffrey keeping an eye on your webcams Let eGeoffrey manage your alarm system Control your heater with eGeoffrey Automate your workflows by integrating eGeoffrey with IFTTT Create a weather station If you have put together something interesting and want to share with other users, feel free to post yout HOW TO in our Forum .","title":"HOW TOs"},{"location":"configure/backup/","text":"Backup and Restore There is nothing worse than losing your data after spending time to configure your eGeoffrey. Luckily, eGeoffrey does not spread files all over the filesystem so the backup process is pretty straightforward. The backup procedure detailed below, will take care of the following: Software : eGeoffrey comes in Docker containers. There is no need to back them up since are stateless, self-contained and can be quickly pulled down again at any time. Which package is installed and your login information are instead stored in the docker-compose.yml and .env files located in the directory where eGeoffrey has been installed Data : all your configuration files, database and logs are stored within the directory where eGeoffrey has been installed Backup Procedure Feel free to stop eGeoffrey before backing up its data even if there is no risk to perform a hot backup: Log into the system hosting your eGeoffrey Go into the directory where eGeoffrey has been installed (e.g. /opt/egeoffrey ) Backup with your favorite utility the entire directory (you must be root to do so) If you want to just copy out the files, it is recommended to create an archive first (e.g. sudo tar zcfv egeoffrey-backup.tar.gz /opt/egeoffrey ) Restore Procedure To restore eGeoffrey in a brand new system: Install eGeoffrey as you would normally do Stop eGeoffrey with sudo egeoffrey-cli house stop Optionally remove the directory just created (e.g. /opt/egeoffrey ) in case would be in the same location of your backed up data Move the latest backup to the system and, if an archive, uncompress it (e.g. sudo tar zxfv egeoffrey-backup.tar.gz ) relocate the directory to the location you prefer (e.g. /opt/egeoffrey ) Go into the directory (e.g. cd /opt/egeoffrey ) Start eGeoffrey with sudo egeoffrey-cli house start . All the packages configured will be then downloaded again and eGeoffrey will be started with the configuration saved in the backup","title":"Backup & Restore"},{"location":"configure/backup/#backup-and-restore","text":"There is nothing worse than losing your data after spending time to configure your eGeoffrey. Luckily, eGeoffrey does not spread files all over the filesystem so the backup process is pretty straightforward. The backup procedure detailed below, will take care of the following: Software : eGeoffrey comes in Docker containers. There is no need to back them up since are stateless, self-contained and can be quickly pulled down again at any time. Which package is installed and your login information are instead stored in the docker-compose.yml and .env files located in the directory where eGeoffrey has been installed Data : all your configuration files, database and logs are stored within the directory where eGeoffrey has been installed","title":"Backup and Restore"},{"location":"configure/backup/#backup-procedure","text":"Feel free to stop eGeoffrey before backing up its data even if there is no risk to perform a hot backup: Log into the system hosting your eGeoffrey Go into the directory where eGeoffrey has been installed (e.g. /opt/egeoffrey ) Backup with your favorite utility the entire directory (you must be root to do so) If you want to just copy out the files, it is recommended to create an archive first (e.g. sudo tar zcfv egeoffrey-backup.tar.gz /opt/egeoffrey )","title":"Backup Procedure"},{"location":"configure/backup/#restore-procedure","text":"To restore eGeoffrey in a brand new system: Install eGeoffrey as you would normally do Stop eGeoffrey with sudo egeoffrey-cli house stop Optionally remove the directory just created (e.g. /opt/egeoffrey ) in case would be in the same location of your backed up data Move the latest backup to the system and, if an archive, uncompress it (e.g. sudo tar zxfv egeoffrey-backup.tar.gz ) relocate the directory to the location you prefer (e.g. /opt/egeoffrey ) Go into the directory (e.g. cd /opt/egeoffrey ) Start eGeoffrey with sudo egeoffrey-cli house start . All the packages configured will be then downloaded again and eGeoffrey will be started with the configuration saved in the backup","title":"Restore Procedure"},{"location":"configure/examples/","text":"Examples and Sample Contents To help you enjoying at best your experience with eGeoffrey, examples and default contents are provided for preventing you to start from scratch when you need to add your sensors, create your rules and develop your custom pages. Whenever you install a new package from the Marketplace, this can bring pre-built sensors, rules and sample pages whose settings will show up under \" Sensors \", \" Rules \" and \" Pages \" under \" ADMINISTRATION \". If the pacakge brings in a fully-featured example page (like some of the services would do), this will show up under \" Examples \", just below the \" Welcome \" entry in the main menu. Please note, examples and sample contents persist even after the package bringing them in is uninstalled. Remove the examples If you want to get rid of the examples installed by a specific package do the following: Connect to the eGeoffrey web interface, as an admin user and go to \" eGeoffrey \", \" Packages \" under \" ADMINISTRATION \" Identify the package associated to the examples you want to get rid of Click on \"Actions\", \"Delete Examples\" Once confirmed, all the sensors, rules and pages will be deleted Please note, when the package or eGeoffrey will be restarted, the examples will be deployed back again hence this process is suitable when you want to uninstall a package and just before doing so you want to remove its examples. Prevent ANY package from deploying their examples If you don't want pacakges from deploying examples, do the following (this will prevent any package from deploying examples but will not delete existing sample contents): Log into the system where eGeoffrey runs and go into the directory where eGeoffrey is installed Edit the .env file by adding EGEOFFREY_CONFIG_ACCEPT_DEFAULTS=0 restart eGeoffrey Please note you need to repeat the process every time egeoffrey-cli config setup is executed.","title":"Sample Contents"},{"location":"configure/examples/#examples-and-sample-contents","text":"To help you enjoying at best your experience with eGeoffrey, examples and default contents are provided for preventing you to start from scratch when you need to add your sensors, create your rules and develop your custom pages. Whenever you install a new package from the Marketplace, this can bring pre-built sensors, rules and sample pages whose settings will show up under \" Sensors \", \" Rules \" and \" Pages \" under \" ADMINISTRATION \". If the pacakge brings in a fully-featured example page (like some of the services would do), this will show up under \" Examples \", just below the \" Welcome \" entry in the main menu. Please note, examples and sample contents persist even after the package bringing them in is uninstalled.","title":"Examples and Sample Contents"},{"location":"configure/examples/#remove-the-examples","text":"If you want to get rid of the examples installed by a specific package do the following: Connect to the eGeoffrey web interface, as an admin user and go to \" eGeoffrey \", \" Packages \" under \" ADMINISTRATION \" Identify the package associated to the examples you want to get rid of Click on \"Actions\", \"Delete Examples\" Once confirmed, all the sensors, rules and pages will be deleted Please note, when the package or eGeoffrey will be restarted, the examples will be deployed back again hence this process is suitable when you want to uninstall a package and just before doing so you want to remove its examples.","title":"Remove the examples"},{"location":"configure/examples/#prevent-any-package-from-deploying-their-examples","text":"If you don't want pacakges from deploying examples, do the following (this will prevent any package from deploying examples but will not delete existing sample contents): Log into the system where eGeoffrey runs and go into the directory where eGeoffrey is installed Edit the .env file by adding EGEOFFREY_CONFIG_ACCEPT_DEFAULTS=0 restart eGeoffrey Please note you need to repeat the process every time egeoffrey-cli config setup is executed.","title":"Prevent ANY package from deploying their examples"},{"location":"configure/icons/","text":"Working with icons Whenever during the configuration you have the option of setting up an icon (to a sensor, in a widget, etc.), you are expected to reference the name of one of the icons already included within eGeoffrey. To see a list of the available icons: Connect to the eGeoffrey web interface, as an admin user and go to \" eGeoffrey \", \" Icons \" under \" ADMINISTRATION \". Search for a specific icon by name (e.g. temperature)","title":"Working with icons"},{"location":"configure/icons/#working-with-icons","text":"Whenever during the configuration you have the option of setting up an icon (to a sensor, in a widget, etc.), you are expected to reference the name of one of the icons already included within eGeoffrey. To see a list of the available icons: Connect to the eGeoffrey web interface, as an admin user and go to \" eGeoffrey \", \" Icons \" under \" ADMINISTRATION \". Search for a specific icon by name (e.g. temperature)","title":"Working with icons"},{"location":"configure/mobile/","text":"eGeoffrey Mobile App eGeoffrey Mobile App provides you with the same capabilities and user experience of the eGeoffrey's web interface. Installation eGeoffrey App is available for now only on Android devices and can be downloaded directly from the Google Play Store . Notifications To receive notifications on the device where the Mobile App is installed even when the App is not running, you need to install on your eGeoffrey instance the package notification/mobile and configure it with the\"Device Token\" you can get from the \"About\" menu of the app. Remote Access The Mobile App allows you to access your eGeoffrey instance even when you are outside of your local network, remotely. To do so, you need to setup remote access and point the app to our Cloud Gateway.","title":"Mobile App"},{"location":"configure/mobile/#egeoffrey-mobile-app","text":"eGeoffrey Mobile App provides you with the same capabilities and user experience of the eGeoffrey's web interface.","title":"eGeoffrey Mobile App"},{"location":"configure/mobile/#installation","text":"eGeoffrey App is available for now only on Android devices and can be downloaded directly from the Google Play Store .","title":"Installation"},{"location":"configure/mobile/#notifications","text":"To receive notifications on the device where the Mobile App is installed even when the App is not running, you need to install on your eGeoffrey instance the package notification/mobile and configure it with the\"Device Token\" you can get from the \"About\" menu of the app.","title":"Notifications"},{"location":"configure/mobile/#remote-access","text":"The Mobile App allows you to access your eGeoffrey instance even when you are outside of your local network, remotely. To do so, you need to setup remote access and point the app to our Cloud Gateway.","title":"Remote Access"},{"location":"configure/modules/","text":"Modules Definition A module is defined as a unit providing a specific functionality to eGeoffrey. Once you install a package, this provides one or more modules. eGeoffrey itself is made of a different modules. There are different kind of modules: controller : modules part of the eGeoffrey core (e.g. interact with the database, collect data from sensors, run alerting rules, etc.) interaction : modules responsible for interacting with the user (e.g. through Slack, a microphone, etc.) notification : modules responsible for notifying the user about something (e.g. through email, slack, text messages, etc.) service : modules responsible for interfacing with a specific device or protocol to retrieve data or control actuators (e.g. a weather service, a webcam, a MySensors device, Zigbee protocol, etc.) gui : modules responsible for running the eGeoffrey GUI Modules' naming convention is <module_type>/<module_name> . You can see the installed modules by accessing the web interface as an admin user and going to \" eGeoffrey \", \" Modules \" under \" ADMINISTRATION \". Configure the newly installed module To configure a module, which may be required after installing a new package , the process is the follow: Connect to the eGeoffrey web interface, as an admin user and go to \" eGeoffrey \", \" Modules \" under \" ADMINISTRATION \". Find the module(s) provided by the package just installed; Ensure the module is running and the ping is low (not red); If the module does not show up as \" Configured \", it means there are required settings not configured yet; Click on \" Actions \", \" Edit Configuration \" and fill in the required inputs in the configuration . Any mandatory setting is marked with an asterisk. Once done, click on \" Save \"; Refresh the page, if the module was not configured, it should appear as configured now (green check). You can go back and edit the configuration of the module at any time, it will be applied without the need to restart anything; From the same page you can stop, start or restart any module by clicking on the \" Actions \" button and selecting the appropriate action; Let's now dig into two special kind of modules: service and notification modules. Services A service (a special kind of module) represents something eGeoffrey is capable of and that, eventually, can be associated to a sensor for further use. A very simple service/capability might be one accessing an online weather service to get weather conditions for your city, which will be written down in a sensor to finally display it in eGeoffrey\u2019s user interface. Of course, there are more elaborated services such as those pulling images from webcams and keeping us informed of what\u2019s going on at home when we are away. Once a service is associated to a sensor, it can be used for either pulling information in (eventually stored in the sensor) or for interacting with external devices like actuators. Notifications A notification is a special kind of module used by eGeoffrey to notify you about something . The approach is simple. Any informational, warning or alert notification generated by a configured rule , will be dispatched throughout all the notification module configured. Of course you can configure exceptions and additional settings. Test a notification module First thing you want to do once the package is installed and the notification module is configured and running, is testing if it is working correctly: Connect to the eGeoffrey web interface, as an admin user and go to \" eGeoffrey \", \" Modules \" under \" ADMINISTRATION \". Find the notification module you want to test and ensure it is running and it is configured; Click on \" Actions \", \" Send Notification \" and type in a test message and click on \" Ok \". The notification will be handled by the module and you should receive it (by email, SMS, Slack etc. depending on the notification module you are testing); Configure notification settings Notification modules have special settings. In addition to the configuration required for making the module running, there are additional configuration you can perform to e.g. filter out only specific notifications or prevent to be notified in specific timeframes. To access those settings: Connect to the eGeoffrey web interface, as an admin user and go to \" eGeoffrey \", \" Modules \" under \" ADMINISTRATION \". Find the notification module you want to test and ensure it is running and it is configured; Click on \" Actions \", \" Edit Configuration \" and switch to the \" Notification Settings \" tab; Tune the notification settings parameter in the way you prefer. By default you will be notified through any notification mechanism configured at any time and with any severity : Ignore notifications if below this severity : if e.g. you want to receive the notification only for alerts, type in \"alert\". If empty any notification (info, warning, alert) will be dispatched through this module; Mute notifications in the following timeframe (e.g. during the night) : if you want to mute notification off during a specific timeframe. E.g. type in \"22-07\" if you don't want notifications from 22:00 to 07:00. Please note those notifications will always show up in the notification panel but will not be sent out through the specific module; Even if in a muted timeframe, still accept notifications above this severity : this is for overriding the configuration just above for specific severity. If for example you want to mute any notification BUT you want to receive alerts only during the timeframe set, type in \"alert\" (valid values are \"warning\" and \"alert\") Maximum number of notifications from this module to receive each hour : to prevent too many notifications from happening, set the maximum number of notifications to be sent for each hour. When the threshold is reached, no more notifications will be sent until we turn into the next hour; Debugging a module To enable/disable debug output of a given module do the following: Connect to the eGeoffrey web interface, as an admin user and go to \" eGeoffrey \", \" Modules \" under \" ADMINISTRATION \". Find the module you want to enable/disable debug output and check/uncheck the box under \" Debug \". There is no need to restart the module for the configuration to be applied. Review the logs; you will see more detailed information with a DEBUG severity Uninstall a module To uninstall a module you have to uninstall the package providing that module.","title":"Configure a Module"},{"location":"configure/modules/#modules","text":"","title":"Modules"},{"location":"configure/modules/#definition","text":"A module is defined as a unit providing a specific functionality to eGeoffrey. Once you install a package, this provides one or more modules. eGeoffrey itself is made of a different modules. There are different kind of modules: controller : modules part of the eGeoffrey core (e.g. interact with the database, collect data from sensors, run alerting rules, etc.) interaction : modules responsible for interacting with the user (e.g. through Slack, a microphone, etc.) notification : modules responsible for notifying the user about something (e.g. through email, slack, text messages, etc.) service : modules responsible for interfacing with a specific device or protocol to retrieve data or control actuators (e.g. a weather service, a webcam, a MySensors device, Zigbee protocol, etc.) gui : modules responsible for running the eGeoffrey GUI Modules' naming convention is <module_type>/<module_name> . You can see the installed modules by accessing the web interface as an admin user and going to \" eGeoffrey \", \" Modules \" under \" ADMINISTRATION \".","title":"Definition"},{"location":"configure/modules/#configure-the-newly-installed-module","text":"To configure a module, which may be required after installing a new package , the process is the follow: Connect to the eGeoffrey web interface, as an admin user and go to \" eGeoffrey \", \" Modules \" under \" ADMINISTRATION \". Find the module(s) provided by the package just installed; Ensure the module is running and the ping is low (not red); If the module does not show up as \" Configured \", it means there are required settings not configured yet; Click on \" Actions \", \" Edit Configuration \" and fill in the required inputs in the configuration . Any mandatory setting is marked with an asterisk. Once done, click on \" Save \"; Refresh the page, if the module was not configured, it should appear as configured now (green check). You can go back and edit the configuration of the module at any time, it will be applied without the need to restart anything; From the same page you can stop, start or restart any module by clicking on the \" Actions \" button and selecting the appropriate action; Let's now dig into two special kind of modules: service and notification modules.","title":"Configure the newly installed module"},{"location":"configure/modules/#services","text":"A service (a special kind of module) represents something eGeoffrey is capable of and that, eventually, can be associated to a sensor for further use. A very simple service/capability might be one accessing an online weather service to get weather conditions for your city, which will be written down in a sensor to finally display it in eGeoffrey\u2019s user interface. Of course, there are more elaborated services such as those pulling images from webcams and keeping us informed of what\u2019s going on at home when we are away. Once a service is associated to a sensor, it can be used for either pulling information in (eventually stored in the sensor) or for interacting with external devices like actuators.","title":"Services"},{"location":"configure/modules/#notifications","text":"A notification is a special kind of module used by eGeoffrey to notify you about something . The approach is simple. Any informational, warning or alert notification generated by a configured rule , will be dispatched throughout all the notification module configured. Of course you can configure exceptions and additional settings.","title":"Notifications"},{"location":"configure/modules/#test-a-notification-module","text":"First thing you want to do once the package is installed and the notification module is configured and running, is testing if it is working correctly: Connect to the eGeoffrey web interface, as an admin user and go to \" eGeoffrey \", \" Modules \" under \" ADMINISTRATION \". Find the notification module you want to test and ensure it is running and it is configured; Click on \" Actions \", \" Send Notification \" and type in a test message and click on \" Ok \". The notification will be handled by the module and you should receive it (by email, SMS, Slack etc. depending on the notification module you are testing);","title":"Test a notification module"},{"location":"configure/modules/#configure-notification-settings","text":"Notification modules have special settings. In addition to the configuration required for making the module running, there are additional configuration you can perform to e.g. filter out only specific notifications or prevent to be notified in specific timeframes. To access those settings: Connect to the eGeoffrey web interface, as an admin user and go to \" eGeoffrey \", \" Modules \" under \" ADMINISTRATION \". Find the notification module you want to test and ensure it is running and it is configured; Click on \" Actions \", \" Edit Configuration \" and switch to the \" Notification Settings \" tab; Tune the notification settings parameter in the way you prefer. By default you will be notified through any notification mechanism configured at any time and with any severity : Ignore notifications if below this severity : if e.g. you want to receive the notification only for alerts, type in \"alert\". If empty any notification (info, warning, alert) will be dispatched through this module; Mute notifications in the following timeframe (e.g. during the night) : if you want to mute notification off during a specific timeframe. E.g. type in \"22-07\" if you don't want notifications from 22:00 to 07:00. Please note those notifications will always show up in the notification panel but will not be sent out through the specific module; Even if in a muted timeframe, still accept notifications above this severity : this is for overriding the configuration just above for specific severity. If for example you want to mute any notification BUT you want to receive alerts only during the timeframe set, type in \"alert\" (valid values are \"warning\" and \"alert\") Maximum number of notifications from this module to receive each hour : to prevent too many notifications from happening, set the maximum number of notifications to be sent for each hour. When the threshold is reached, no more notifications will be sent until we turn into the next hour;","title":"Configure notification settings"},{"location":"configure/modules/#debugging-a-module","text":"To enable/disable debug output of a given module do the following: Connect to the eGeoffrey web interface, as an admin user and go to \" eGeoffrey \", \" Modules \" under \" ADMINISTRATION \". Find the module you want to enable/disable debug output and check/uncheck the box under \" Debug \". There is no need to restart the module for the configuration to be applied. Review the logs; you will see more detailed information with a DEBUG severity","title":"Debugging a module"},{"location":"configure/modules/#uninstall-a-module","text":"To uninstall a module you have to uninstall the package providing that module.","title":"Uninstall a module"},{"location":"configure/multi-house/","text":"Managing multiple houses with eGeoffrey You may be in a situation where eGeoffrey is installed in multiple houses and you want to get access to them all somehow. eGeoffrey fully supports this scenario. Web Interface With the eGeoffrey web interface you can access whatever eGeoffrey instance, either the one where it is running or a different one. To do so, just point to the eGeoffrey gateway where the other house is running and you will get into it straight away. To facilitate switching between multiple houses, the web interface allows saving a connection for future use. When logging in and selecting the \"Remember Me\" checkbox makes your browser remembering the connection (e.g. the combination of username, house id, gateway and port). Saved connections can be loaded from the dropdown select at the top of the login screen. Additionally, once logged in, in the top of the screen just aside the name of the house, a dropdown menu allows to select one of the previously saved connection for fast-switching into it. To delete a saved connection, just uncheck \"Remember Me\" and click the Login button. Mobile App Notifications from multiple houses can be received by the same eGeoffrey mobile App. All you have to do is to configure the egeoffrey-notification-mobile package in the two eGeoffrey instances to send notification to the same device identifier. The app will then notify you and the house name will show up on top of the notification which will be grouped together by the name of the house. The Mobile App interface has the same capabilities of the web interface described above. Running multiple houses on the same machine You can run multiple, independent houses on the same machine by installing eGeoffrey in two different locations of the filesystem. Just ensure in the docker-compose.yml file that each instance will expose their services to different ports. Running eGeoffrey in multiple locations All the scenarios above imply you want to configure two fully independent houses. A different configuration could be to have the same eGeoffrey instance (e.g. same house) spread across two or more locations. This is once again supported as far as the eGeoffrey controller/database/gateway reside only in a primary location and the others are configured with egeoffrey-cli config setup to connect to the remote gateway offered by the primary location. Of course that gateway must be reachable over the network.","title":"Multi House Support"},{"location":"configure/multi-house/#managing-multiple-houses-with-egeoffrey","text":"You may be in a situation where eGeoffrey is installed in multiple houses and you want to get access to them all somehow. eGeoffrey fully supports this scenario.","title":"Managing multiple houses with eGeoffrey"},{"location":"configure/multi-house/#web-interface","text":"With the eGeoffrey web interface you can access whatever eGeoffrey instance, either the one where it is running or a different one. To do so, just point to the eGeoffrey gateway where the other house is running and you will get into it straight away. To facilitate switching between multiple houses, the web interface allows saving a connection for future use. When logging in and selecting the \"Remember Me\" checkbox makes your browser remembering the connection (e.g. the combination of username, house id, gateway and port). Saved connections can be loaded from the dropdown select at the top of the login screen. Additionally, once logged in, in the top of the screen just aside the name of the house, a dropdown menu allows to select one of the previously saved connection for fast-switching into it. To delete a saved connection, just uncheck \"Remember Me\" and click the Login button.","title":"Web Interface"},{"location":"configure/multi-house/#mobile-app","text":"Notifications from multiple houses can be received by the same eGeoffrey mobile App. All you have to do is to configure the egeoffrey-notification-mobile package in the two eGeoffrey instances to send notification to the same device identifier. The app will then notify you and the house name will show up on top of the notification which will be grouped together by the name of the house. The Mobile App interface has the same capabilities of the web interface described above.","title":"Mobile App"},{"location":"configure/multi-house/#running-multiple-houses-on-the-same-machine","text":"You can run multiple, independent houses on the same machine by installing eGeoffrey in two different locations of the filesystem. Just ensure in the docker-compose.yml file that each instance will expose their services to different ports.","title":"Running multiple houses on the same machine"},{"location":"configure/multi-house/#running-egeoffrey-in-multiple-locations","text":"All the scenarios above imply you want to configure two fully independent houses. A different configuration could be to have the same eGeoffrey instance (e.g. same house) spread across two or more locations. This is once again supported as far as the eGeoffrey controller/database/gateway reside only in a primary location and the others are configured with egeoffrey-cli config setup to connect to the remote gateway offered by the primary location. Of course that gateway must be reachable over the network.","title":"Running eGeoffrey in multiple locations"},{"location":"configure/packages/","text":"Packages Definition A package is defined as one or more modules (e.g. functionalities) packaged together. It may also include sample contents such as sensors, rules or pages. Packages are what you can find in the eGeoffrey's Marketplace and it is what you install when you need specific new skills added to your eGeoffrey. Packages' naming convention is egeoffrey-<package_type>-<package_name> . You can see the installed packages by accessing the web interface as an admin user and going to \" eGeoffrey \", \" Packages \" under \" ADMINISTRATION \". Install the relevant packages After installing, eGeoffrey knows nothing about your house yet. eGeoffrey's customization is really simple and leverages a set of pre-built modular components for integrating with your existing devices. The process is the following: Think about what you want to do (e.g. get temperature measures from the Internet, trigger a MySensors relay, etc.) and what you need to integrate to achieve your goal; Visit the eGeoffrey Marketplace or use the CLI (e.g. sudo egeoffrey-cli package search weather ) to identify the package providing the capability you are looking for; Install the relevant package by running sudo egeoffrey-cli package install <package_name> (e.g. sudo egeoffrey-cli package install egeoffrey-service-openweathermap ). This should be very fast since it will just install the package without starting it yet; Start the newly installed package by running sudo egeoffrey-cli house start from within the directory where eGeoffrey is installed. This command will download any newly installed packages and start the ones not running yet; Wait a few seconds for the module provided by the package to be up and running. Check if running by executing sudo egeoffrey-cli house status that all of them are in a status of \" Up \"; Connect to the eGeoffrey web interface, as an admin user and go to \" eGeoffrey \", \" Packages \" under \" ADMINISTRATION \". Ensure the package has been installed succesfully and take a note of the provided services; Uninstall a package If you want to uninstall a package from eGeoffrey, do the following: Identify the name of the package you want to uninstall. Run sudo egeoffrey-cli package installed from within the directory where eGeoffrey is installed to get a list of the installed packages; Uninstall the package by running sudo egeoffrey-cli package uninstall <package_name> (e.g. sudo egeoffrey-cli package uninstall egeoffrey-service-openweathermap ). This should be very fast since it will just remove the package from the configuration without stopping it; Apply the newly updated configuration by running sudo egeoffrey-cli house start from within the directory where eGeoffrey is installed. This command will stop any packages uninstalled with the CLI. Please note neither the configuration nor the package itself will be deleted from the disk;","title":"Install a Package"},{"location":"configure/packages/#packages","text":"","title":"Packages"},{"location":"configure/packages/#definition","text":"A package is defined as one or more modules (e.g. functionalities) packaged together. It may also include sample contents such as sensors, rules or pages. Packages are what you can find in the eGeoffrey's Marketplace and it is what you install when you need specific new skills added to your eGeoffrey. Packages' naming convention is egeoffrey-<package_type>-<package_name> . You can see the installed packages by accessing the web interface as an admin user and going to \" eGeoffrey \", \" Packages \" under \" ADMINISTRATION \".","title":"Definition"},{"location":"configure/packages/#install-the-relevant-packages","text":"After installing, eGeoffrey knows nothing about your house yet. eGeoffrey's customization is really simple and leverages a set of pre-built modular components for integrating with your existing devices. The process is the following: Think about what you want to do (e.g. get temperature measures from the Internet, trigger a MySensors relay, etc.) and what you need to integrate to achieve your goal; Visit the eGeoffrey Marketplace or use the CLI (e.g. sudo egeoffrey-cli package search weather ) to identify the package providing the capability you are looking for; Install the relevant package by running sudo egeoffrey-cli package install <package_name> (e.g. sudo egeoffrey-cli package install egeoffrey-service-openweathermap ). This should be very fast since it will just install the package without starting it yet; Start the newly installed package by running sudo egeoffrey-cli house start from within the directory where eGeoffrey is installed. This command will download any newly installed packages and start the ones not running yet; Wait a few seconds for the module provided by the package to be up and running. Check if running by executing sudo egeoffrey-cli house status that all of them are in a status of \" Up \"; Connect to the eGeoffrey web interface, as an admin user and go to \" eGeoffrey \", \" Packages \" under \" ADMINISTRATION \". Ensure the package has been installed succesfully and take a note of the provided services;","title":"Install the relevant packages"},{"location":"configure/packages/#uninstall-a-package","text":"If you want to uninstall a package from eGeoffrey, do the following: Identify the name of the package you want to uninstall. Run sudo egeoffrey-cli package installed from within the directory where eGeoffrey is installed to get a list of the installed packages; Uninstall the package by running sudo egeoffrey-cli package uninstall <package_name> (e.g. sudo egeoffrey-cli package uninstall egeoffrey-service-openweathermap ). This should be very fast since it will just remove the package from the configuration without stopping it; Apply the newly updated configuration by running sudo egeoffrey-cli house start from within the directory where eGeoffrey is installed. This command will stop any packages uninstalled with the CLI. Please note neither the configuration nor the package itself will be deleted from the disk;","title":"Uninstall a package"},{"location":"configure/pages/","text":"Customizing the Web Interface An admin can easily customize any page as well as customizing the look & feel. The \" MY PLACE \" area of the main menu contains the user-defined pages and it is completely up to you the way you want to organize your contents. It also includes links to default pages automatically added when installing some packages. Definitions Folder : a folder groups together in the main menu one of more menu items. You may want to use folders to group access to pages which are logically linked together. When clicking on the folder, it expands, showing up the associated menu items; Menu Item : a menu item is a link to a page. It shows up in the main menu under a given folder and when clicked makes the associated page loading in the screen; Page : display sensors' contents to the user. A page is made up of multiple rows and every row have one or more widget (in columns) Widget : type of visualization of a given content. Typically you need to configure a sensor first and then associate it to the widget to present its values How to add a new page Connect to the eGeoffrey web interface, as an admin user and go to \" House \", \" Pages \" under \" ADMINISTRATION \". A list of existing pages will be provided; Click on \" Add a new Page \" button in the top of the page give the page a name identifier and click on \" Save \". Alphanumeric characters only, including underscores and dashes are allowed. Note down this identifier since will be needed when adding a link to the page from the main menu wait a few seconds until the new (empty) page is displayed. Check the URL for ensuring the newly created page has been opened edit the page (see bellow). please note a new page will not automatically show up in the main menu until a menu item linking to it will be added How to edit a page Click on the \" Edit Page \" button in the top right of an opened page (please note only pages from the \" MY PLACE \" area can be edited) if you want to add a new row or if the page is empty, click on the \" Add Row \" button in the top right of the page optionally give the row a title (will be displayed just above the widgets) if you want to add a new widget to a row, click on the \" Add Widget \" button nearby the row title: under the \" General \" tab fill in: \" Widget Title \": title of the widget, will show up on top of its content \" Size of the Widget \": how wide the widget is supposed to be, from 1 to 12 (full width). Remember every row has a size of 12 spaces so you can add twelve widgets of size 1, two widgets of size 6, one widget of size 12, etc. \" Widget Type \": how you want to display the information. See the \" Widget Showcase \" under the \" Examples \" menu folder for real examples. As you select the widget type, a new tab specific for the selected type will be added in which you can configure e.g. from which sensor to pick data from, which timeseries to plot, etc. Every widget type has a different and peculiar configuration. The following options are available: Summary : display the latest value of a sensor together with min/max of yesterday/today. Useful when you want to see e.g. current temperature and min/max of today and yesterday. Requires the sensor to have a numeric format and an automatic aggregation set which calculates hourly and daily statistics Value : display the latest value of a sensor. Useful when you want to see e.g. the current temperature Timeline : display a timeline chart. Useful when you want to see e.g. temperature averages, min/max over a timeline. Requires the sensor to have a numeric format and an automatic aggregation set which calculates hourly and daily statistics Range : display a chart with min and max value. Useful when you want to see e.g. temperature min/max for the next few days. Requires the sensor to have a numeric format and an automatic aggregation set which calculates hourly and daily statistics Status : display an on/off status. Useful when you want to see e.g. the status of an actuator (on/off). Requires the sensor to have a integer format and values of 0 and 1 Control : you can control an on/off switch. Useful when you want to control an actuator (on/off). Requires the sensor to have a integer format and the actuator to handle values of 0 and 1 Input : display an input box. Useful when you want to set dynamically e.g. the maximum temperature before turning automatically off the heater. Sensors can have any format depending on the use case Button : display a button and associate actions. Useful when you want to execute one or more actions triggered manually by the user when clicking on the button. Actions may include set values to a sensor, run rules, etc. Calendar : display a calendar for scheduling event. Useful when you want to e.g. schedule when to turn the heater or irrigation on/off automatically. Requires the sensor to have a \"calendar\" format and rules to evaluate if it is the time to do an action Image : display an image stored in a sensor. Useful when you want to e.g. show a screenshot from your webcam. Requires the sensor to have a image format Map : display a map plotting positions stored in a sensor. Useful when you want to e.g. show on a map your positions or latest earthquake around the world. Requires the sensor to have a \"position\" format. Before using this widget, please get a Google Maps API key and set it in \" House \", \" Settings \" under \" ADMINISTRATION \", under the \"Web Interface\" tab Text : display a text statically or from a sensor. Useful for e.g. adding explanations or static text to your pages Table : display a dynamic table. Useful when you want to e.g. show on a table the latest news from a RSS feed. Requires the sensor to have a string format. The rows of the table will be the different lines of the string (e.g. rows are split by new line character) Counter : display a counter with the number of values stored in a sensor Tasks : display a to-do list. Useful when you want to e.g. have a shopping list where users can add / check items on it. Requires the sensor to have a \"tasks\" format Notifications : shows list of the latest notifications. It is the same table you get in the Welcome page Chatbot : display the interactive chatbot you can ask questions regarding your sensors or trigger configured rules Slider : display a range slider. Useful when you want to e.g. change the intensity of a smart light. Heartbeat : display an elapsed since last heartbeat. Useful when you want to display last time a sensor reported back \" Widget Offset \": optionally, if you want the widget to not start from the left side of the screen, from which space has to start under \" Permissions \" tab, leave it as it is unless you want only specific group of users to see the configured widget click on \" Save \", the newly configured widget will show up in the page with live data populated in if needed, delete any unnecessary widgets by clicking on the trash icon in the top right corner of each widget or an entire row by clicking the \" Delete Row \" button nearby each row's title individual widgets and entire rows can be easily moved around along the page by dragging and dropping the icon with four arrows in the top right corner of each widget or by clicking and moving the \" Move Row \" button nearby each row's title when satisfied of the look and feel, click the \" Save Changes \" button in the top right corner of the page. Changes can be undone at any time by clicking on the \" Discard Changes \" button once saved, the old layout will still show up. Wait for a few seconds until your changes are loaded How to add a menu item linking to a page ensure you created already a page connect to the eGeoffrey web interface, as an admin user and go to \" House \", \" Menu \" under \" ADMINISTRATION \". A list of existing menu folders and items will be provided; click on \" New Folder \" if you want your page to be listed under a new folder. If you want to reuse an existing folder, skip this step: fill in the required folder information: Folder Identifier : give the folder a name identifier. Alphanumeric characters only, including underscores and dashes are allowed. This will be used when configuring a menu item to reference this folder Text : enter the text of the folder. This is the text that will be displayed in the main menu Icon : optionally the name of the icon to display next to the text Order : the order within the \" MY PLACE \" area this folder will be listed. Every folder is given an order number and eGeoffrey will display the one with the lowest number first (e.g. if a folder has order zero and another has order twenty, the first one will be displayed on top of the other) click on \" Save \". Wait for a few seconds until your changes are loaded click on \" New Menu Item \" to eventually make your page accessible from the main menu: fill in the required menu item information: Folder Identifier : the folder identifier under which you want this menu item to be associated with. The folder should already exist Menu Item Identifier : give the menu item an identifier. Alphanumeric characters only, including underscores and dashes are allowed. Text : enter the text of the menu item. This is the text that will be displayed in the main menu Page : the page identifier (should already exist) you want to open when this menu item is clicked Icon : optionally the name of the icon to display next to the text Order : the order within the \" MY PLACE \" area this menu item will be listed within the folder. Every menu itrem is given an order number and eGeoffrey will display the one with the lowest number first (e.g. if a menu item has order zero and another has order twenty, the first one will be displayed on top of the other) Authorized Groups : leave it empty unless you want only specific group of users to see the menu item click on \" Save \". Wait for a few seconds until your changes are loaded How to edit the main menu if you want to edit an existing folder, connect to the eGeoffrey web interface, as an admin user and go to \" House \", \" Menu \" under \" ADMINISTRATION \". A list of existing menu folders and items will be provided; identify the item you want to edit, click on \"Actions\" and then \"Edit\" I want to see a different page upon login If you already logged in eGeoffrey, next time you access the web interface, the browser will remember your credentials and the last page you were visiting. But if you are a new user or accessing from a different browser/device, the \"Welcome\" page is presented by default. If you want new users to see a different page, go to \" House \", \" Setup \" under \" ADMINISTRATION \", click the \"Web Interface\" tab and set in \"Default Page\" the page identifier of the page you want to be presented when accessing the web interface","title":"Visualize your data"},{"location":"configure/pages/#customizing-the-web-interface","text":"An admin can easily customize any page as well as customizing the look & feel. The \" MY PLACE \" area of the main menu contains the user-defined pages and it is completely up to you the way you want to organize your contents. It also includes links to default pages automatically added when installing some packages.","title":"Customizing the Web Interface"},{"location":"configure/pages/#definitions","text":"Folder : a folder groups together in the main menu one of more menu items. You may want to use folders to group access to pages which are logically linked together. When clicking on the folder, it expands, showing up the associated menu items; Menu Item : a menu item is a link to a page. It shows up in the main menu under a given folder and when clicked makes the associated page loading in the screen; Page : display sensors' contents to the user. A page is made up of multiple rows and every row have one or more widget (in columns) Widget : type of visualization of a given content. Typically you need to configure a sensor first and then associate it to the widget to present its values","title":"Definitions"},{"location":"configure/pages/#how-to-add-a-new-page","text":"Connect to the eGeoffrey web interface, as an admin user and go to \" House \", \" Pages \" under \" ADMINISTRATION \". A list of existing pages will be provided; Click on \" Add a new Page \" button in the top of the page give the page a name identifier and click on \" Save \". Alphanumeric characters only, including underscores and dashes are allowed. Note down this identifier since will be needed when adding a link to the page from the main menu wait a few seconds until the new (empty) page is displayed. Check the URL for ensuring the newly created page has been opened edit the page (see bellow). please note a new page will not automatically show up in the main menu until a menu item linking to it will be added","title":"How to add a new page"},{"location":"configure/pages/#how-to-edit-a-page","text":"Click on the \" Edit Page \" button in the top right of an opened page (please note only pages from the \" MY PLACE \" area can be edited) if you want to add a new row or if the page is empty, click on the \" Add Row \" button in the top right of the page optionally give the row a title (will be displayed just above the widgets) if you want to add a new widget to a row, click on the \" Add Widget \" button nearby the row title: under the \" General \" tab fill in: \" Widget Title \": title of the widget, will show up on top of its content \" Size of the Widget \": how wide the widget is supposed to be, from 1 to 12 (full width). Remember every row has a size of 12 spaces so you can add twelve widgets of size 1, two widgets of size 6, one widget of size 12, etc. \" Widget Type \": how you want to display the information. See the \" Widget Showcase \" under the \" Examples \" menu folder for real examples. As you select the widget type, a new tab specific for the selected type will be added in which you can configure e.g. from which sensor to pick data from, which timeseries to plot, etc. Every widget type has a different and peculiar configuration. The following options are available: Summary : display the latest value of a sensor together with min/max of yesterday/today. Useful when you want to see e.g. current temperature and min/max of today and yesterday. Requires the sensor to have a numeric format and an automatic aggregation set which calculates hourly and daily statistics Value : display the latest value of a sensor. Useful when you want to see e.g. the current temperature Timeline : display a timeline chart. Useful when you want to see e.g. temperature averages, min/max over a timeline. Requires the sensor to have a numeric format and an automatic aggregation set which calculates hourly and daily statistics Range : display a chart with min and max value. Useful when you want to see e.g. temperature min/max for the next few days. Requires the sensor to have a numeric format and an automatic aggregation set which calculates hourly and daily statistics Status : display an on/off status. Useful when you want to see e.g. the status of an actuator (on/off). Requires the sensor to have a integer format and values of 0 and 1 Control : you can control an on/off switch. Useful when you want to control an actuator (on/off). Requires the sensor to have a integer format and the actuator to handle values of 0 and 1 Input : display an input box. Useful when you want to set dynamically e.g. the maximum temperature before turning automatically off the heater. Sensors can have any format depending on the use case Button : display a button and associate actions. Useful when you want to execute one or more actions triggered manually by the user when clicking on the button. Actions may include set values to a sensor, run rules, etc. Calendar : display a calendar for scheduling event. Useful when you want to e.g. schedule when to turn the heater or irrigation on/off automatically. Requires the sensor to have a \"calendar\" format and rules to evaluate if it is the time to do an action Image : display an image stored in a sensor. Useful when you want to e.g. show a screenshot from your webcam. Requires the sensor to have a image format Map : display a map plotting positions stored in a sensor. Useful when you want to e.g. show on a map your positions or latest earthquake around the world. Requires the sensor to have a \"position\" format. Before using this widget, please get a Google Maps API key and set it in \" House \", \" Settings \" under \" ADMINISTRATION \", under the \"Web Interface\" tab Text : display a text statically or from a sensor. Useful for e.g. adding explanations or static text to your pages Table : display a dynamic table. Useful when you want to e.g. show on a table the latest news from a RSS feed. Requires the sensor to have a string format. The rows of the table will be the different lines of the string (e.g. rows are split by new line character) Counter : display a counter with the number of values stored in a sensor Tasks : display a to-do list. Useful when you want to e.g. have a shopping list where users can add / check items on it. Requires the sensor to have a \"tasks\" format Notifications : shows list of the latest notifications. It is the same table you get in the Welcome page Chatbot : display the interactive chatbot you can ask questions regarding your sensors or trigger configured rules Slider : display a range slider. Useful when you want to e.g. change the intensity of a smart light. Heartbeat : display an elapsed since last heartbeat. Useful when you want to display last time a sensor reported back \" Widget Offset \": optionally, if you want the widget to not start from the left side of the screen, from which space has to start under \" Permissions \" tab, leave it as it is unless you want only specific group of users to see the configured widget click on \" Save \", the newly configured widget will show up in the page with live data populated in if needed, delete any unnecessary widgets by clicking on the trash icon in the top right corner of each widget or an entire row by clicking the \" Delete Row \" button nearby each row's title individual widgets and entire rows can be easily moved around along the page by dragging and dropping the icon with four arrows in the top right corner of each widget or by clicking and moving the \" Move Row \" button nearby each row's title when satisfied of the look and feel, click the \" Save Changes \" button in the top right corner of the page. Changes can be undone at any time by clicking on the \" Discard Changes \" button once saved, the old layout will still show up. Wait for a few seconds until your changes are loaded","title":"How to edit a page"},{"location":"configure/pages/#how-to-add-a-menu-item-linking-to-a-page","text":"ensure you created already a page connect to the eGeoffrey web interface, as an admin user and go to \" House \", \" Menu \" under \" ADMINISTRATION \". A list of existing menu folders and items will be provided; click on \" New Folder \" if you want your page to be listed under a new folder. If you want to reuse an existing folder, skip this step: fill in the required folder information: Folder Identifier : give the folder a name identifier. Alphanumeric characters only, including underscores and dashes are allowed. This will be used when configuring a menu item to reference this folder Text : enter the text of the folder. This is the text that will be displayed in the main menu Icon : optionally the name of the icon to display next to the text Order : the order within the \" MY PLACE \" area this folder will be listed. Every folder is given an order number and eGeoffrey will display the one with the lowest number first (e.g. if a folder has order zero and another has order twenty, the first one will be displayed on top of the other) click on \" Save \". Wait for a few seconds until your changes are loaded click on \" New Menu Item \" to eventually make your page accessible from the main menu: fill in the required menu item information: Folder Identifier : the folder identifier under which you want this menu item to be associated with. The folder should already exist Menu Item Identifier : give the menu item an identifier. Alphanumeric characters only, including underscores and dashes are allowed. Text : enter the text of the menu item. This is the text that will be displayed in the main menu Page : the page identifier (should already exist) you want to open when this menu item is clicked Icon : optionally the name of the icon to display next to the text Order : the order within the \" MY PLACE \" area this menu item will be listed within the folder. Every menu itrem is given an order number and eGeoffrey will display the one with the lowest number first (e.g. if a menu item has order zero and another has order twenty, the first one will be displayed on top of the other) Authorized Groups : leave it empty unless you want only specific group of users to see the menu item click on \" Save \". Wait for a few seconds until your changes are loaded","title":"How to add a menu item linking to a page"},{"location":"configure/pages/#how-to-edit-the-main-menu","text":"if you want to edit an existing folder, connect to the eGeoffrey web interface, as an admin user and go to \" House \", \" Menu \" under \" ADMINISTRATION \". A list of existing menu folders and items will be provided; identify the item you want to edit, click on \"Actions\" and then \"Edit\"","title":"How to edit the main menu"},{"location":"configure/pages/#i-want-to-see-a-different-page-upon-login","text":"If you already logged in eGeoffrey, next time you access the web interface, the browser will remember your credentials and the last page you were visiting. But if you are a new user or accessing from a different browser/device, the \"Welcome\" page is presented by default. If you want new users to see a different page, go to \" House \", \" Setup \" under \" ADMINISTRATION \", click the \"Web Interface\" tab and set in \"Default Page\" the page identifier of the page you want to be presented when accessing the web interface","title":"I want to see a different page upon login"},{"location":"configure/remote/","text":"Accessing eGeoffrey remotely Even when you are outside of your place you can get in touch with eGeoffrey. This can be done via notifications or by fully accessing eGeoffrey web interface. Notifications The notifications can reach you anywhere, also when you are outside your local network. Visit eGeoffrey's Marketplace to install the package you need for being notified in the way you like the most (Slack, Email, Telegram, etc.). Additionally, with eGeoffrey's Mobile App , you can even get notifications in real time on your smartphone or table. Web Interface You can access your eGeoffrey gateway remotely through one of the following methods (ordered from low-effort to high-effort approaches). Once the gateway is reachable from the remote location, you can access to it by either using eGeoffrey Mobile App or pointing your browser to http://cloud.egeoffrey.com . VPN Access Setup a VPN (Wireguard, OpenVPN etc.) on your Raspberry and configure a remote connection on your laptop or mobile so to access eGeoffrey like if you were at home. Expose eGeoffrey Gateway to the Internet Open port 443 on your router and make it pointing to where eGeoffrey runs. Before doing so, please ensure the gateway has both SSL and a strong password set. Host an eGeoffrey Gateway in the Cloud Setup a MQTT broker accessible from the Internet or leverage a public MQTT service (be concious sensitive information regarding your house are exchanged with this third party). Configure then your local gateway to connect to it by setting REMOTE_EGEOFFREY_GATEWAY_HOSTNAME , REMOTE_EGEOFFREY_GATEWAY_PORT , REMOTE_EGEOFFREY_GATEWAY_SSL , REMOTE_EGEOFFREY_ID , REMOTE_EGEOFFREY_PASSCODE with egeoffrey-cli config env <variable> [<value>] so to bridge the two instances. An additional option called eGeoffrey Cloud Gateway provided by the eGeoffrey team as a service has been suspended in April 2022","title":"Remote Access"},{"location":"configure/remote/#accessing-egeoffrey-remotely","text":"Even when you are outside of your place you can get in touch with eGeoffrey. This can be done via notifications or by fully accessing eGeoffrey web interface.","title":"Accessing eGeoffrey remotely"},{"location":"configure/remote/#notifications","text":"The notifications can reach you anywhere, also when you are outside your local network. Visit eGeoffrey's Marketplace to install the package you need for being notified in the way you like the most (Slack, Email, Telegram, etc.). Additionally, with eGeoffrey's Mobile App , you can even get notifications in real time on your smartphone or table.","title":"Notifications"},{"location":"configure/remote/#web-interface","text":"You can access your eGeoffrey gateway remotely through one of the following methods (ordered from low-effort to high-effort approaches). Once the gateway is reachable from the remote location, you can access to it by either using eGeoffrey Mobile App or pointing your browser to http://cloud.egeoffrey.com .","title":"Web Interface"},{"location":"configure/remote/#vpn-access","text":"Setup a VPN (Wireguard, OpenVPN etc.) on your Raspberry and configure a remote connection on your laptop or mobile so to access eGeoffrey like if you were at home.","title":"VPN Access"},{"location":"configure/remote/#expose-egeoffrey-gateway-to-the-internet","text":"Open port 443 on your router and make it pointing to where eGeoffrey runs. Before doing so, please ensure the gateway has both SSL and a strong password set.","title":"Expose eGeoffrey Gateway to the Internet"},{"location":"configure/remote/#host-an-egeoffrey-gateway-in-the-cloud","text":"Setup a MQTT broker accessible from the Internet or leverage a public MQTT service (be concious sensitive information regarding your house are exchanged with this third party). Configure then your local gateway to connect to it by setting REMOTE_EGEOFFREY_GATEWAY_HOSTNAME , REMOTE_EGEOFFREY_GATEWAY_PORT , REMOTE_EGEOFFREY_GATEWAY_SSL , REMOTE_EGEOFFREY_ID , REMOTE_EGEOFFREY_PASSCODE with egeoffrey-cli config env <variable> [<value>] so to bridge the two instances. An additional option called eGeoffrey Cloud Gateway provided by the eGeoffrey team as a service has been suspended in April 2022","title":"Host an eGeoffrey Gateway in the Cloud"},{"location":"configure/rules/","text":"Rules Definition Rules can execute specific tasks periodically or upon specific conditions . A rule is defined as a set constants (e.g. static values) and variables (e.g. values coming from sensors) combined in conditions . Notifications are generated whenever a configured rule triggers . Rules can also execute additional actions (e.g. set a value to a sensor, trigger another rule, etc.) You can see the configured rules and create new rules by accessing the web interface as an admin user and going to \" House \", \" Rules \" under \" Administration \". Add a new rule To add a new rule, the process is the following: Connect to the eGeoffrey web interface, as an admin user and go to \" House \", \" Rules \" under \" ADMINISTRATION \". A list of existing rules will be provided; Click on the \" Add a New Rule \" button on top of the page. A wizard will show up. Provide the following information - anything with an asterisk is required: \" General \" - general settings for the rule: \" Rule identifier \": give the rule a name identifier. This is they way the rule can be referenced and invoked by other rules, widgets, etc. Alphanumeric characters only, including underscores and dashes are allowed; \" Disabled \": check this box if you want the rule to be disabled; \" Rule Text \": text of the rule when triggers. This is what will show up in the web interface under \"Notifications\" and what will be sent to any configured notification modules . If you want the text can be dynamically populated with configured variables' values, use placeholders like %variable_identifier% \" Severity \": the severity of the notification when this rule triggers. This can be used by notification modules to filter in or out specific notifications. Possible values are \"Alert\", \"Warning\" and \"Info\". \"Debug\" will generate a notification in the web interface but no notification modules will be triggered. \"None\" will not even generate the notification in the web interface but just produce an entry in the logs \" Type \" - type of the rule: \" Recurrent \": the rule will run based on a configured schedule. Select this option if you want this rule to execute only on a specific time like e.g. if you want to turn the lights on or off at a given time. When selected, a \"Schedule\" tab will show up to configure when and how often running the rule: \" Scheduling Mode \": select either \" Interval - run the job at fixed intervals of time \" or \" Cron - run the job periodically at certain time(s) of day \" \" Days/Hours/Minutes/Seconds \": fill in accordingly. If \" Interval \" was selected above, this is the frequency the rule will run, if \" Cron \" was selected, this is which time and how often to run \" On-Demand \": run the rule manually (or when requested by the chatbot). Select this option if you want to link the rule execution with e.g. a button of the web interface or if you want to run it by asking the chatbot to do something \" Realtime \": run the rule whenever one of the sensors listed in the \" Triggers \" tab is updated. Select this option if you want this rule to trigger only upon a change. For example if you want to turn the lights on when it is becoming too dark, you want to run this rule every time a light sensor is reporting a new value. After selecting this option, go to the \"Triggers\" tab, click on \"Add Trigger\" and write down the sensor identifier which will trigger the rule execution. Whenever a new value is recorded for this sensor, the rule will be evaluated. This doesn't mean a notification will trigger, it just means the conditions will be evaluated. \" Constants \" - if conditions are set, the rule triggers only when those are met. Conditions compare the values of variables (data stored in sensors) with constants (constant values). Conditions reference variables and constants so you need to configured them beforehand. Go to the \" Constants \" tab and click on \" Add Constant \". Give the constant an identifier (Alphanumeric characters only, including underscores and dashes are allowed) - this will be the way you can reference it in your conditions - and a value. For example set status_on to 1 so in your conditions you can check if the value of a sensor is on. \" Variables \" - Go to the \" Variables \" tab and click on \" Add Variable \". Give the variable an identifier (Alphanumeric characters only, including underscores and dashes are allowed) - this will be the way you can reference it in your conditions - and a sensor identifier as value. This will populate the variable with the latest value of the sensor. There are also additional, more advanced options you can leverage since the variable value can be in the format DISTANCE|TIMESTAMP|ELAPSED|COUNT|SCHEDULE|POSITION_LABEL|POSITION_TEXT] [-<start_position>],[-<end_position>] <sensor_identifier> where: DISTANCE : set the variable value to the distance from the current position to the lastest value of the referenced sensor identifier. The current position (latitude and longitude) is the one set in the House settings. If \"unit\" in House settings is set to \"metric\" the distance is returned in kilometers, otherwise in miles. Requires the sensor to have a \"position\" format; TIMESTAMP : set the variable value to the unix timestamp of the lastest value of the referenced sensor identifier; ELAPSED : set the variable value to the elapsed time in minutes since the latest measure of the referenced sensor identifier (e.g. 1 if last value is 1 minute old); COUNT : set the variable value to the number of values requested for the referenced sensor identifier; SCHEDULE : set the variable value to the value set by the user in the associated calendar widget if something has been scheduled for the time the rule runs, an enpty value otherwise. Requires the sensor to have a \"calendar\" format; POSITION_LABEL : set the variable value (e.g location) to the label of the latest value of the referenced sensor identifier. Requires the sensor to have a \"position\" format; POSITION_TEXT : set the variable value (e.g description) to the text of the latest value of the referenced sensor identifier. Requires the sensor to have a \"position\" format; If no position is requested, the latest value only is evaluated. If you want to retrive e.g. the latest two values, format will be -2,-1 sensor_id . For any variable defined here a placeholder in the format %variable_identifier% can be used in the rule's text and will be replaced by its value when the rule triggers. Examples: alarm_status = alarm/status : alarm_status will be assigned the latest value of the alarm/status/status sensor boiler_off_minutes = ELAPSED boiler/status : The elapsed time in minutes since the latest measure of boiler/status/status will be assigned to the variable boiler_off_minutes latest_5_days = -5,-1 outdoor/temperature/day/avg : The latest 5 daily averages of the sensor outdoor/temperature will be assigned to the variable latest_5_days \" Conditions \" - if no conditions are set, when the rule is run, it will just trigger. Conditions make the rule triggering only under specific circumstances. To add a condition, go to the \"Conditions\" tab. Conditions can be grouped in block, each block can have one or more conditions. Conditions within the same block will be evaluated in AND (all must meet for the block to be true) whereas block are evaluated in OR (if at least one block is true, the rule triggers). Previously defined constants and variables have to be used when setting up a condition. Please note when doing a comparison, static values are not allowed, they have to be defined as constants. Once again, the rule triggers if all the conditions of a block evaluate to true (AND). If there are multiple blocks the rule triggers when at least one block evaluate true (OR). Click on \"Add Block\" and then \"Add Condition\". Here you can compare your previously set constants and variables. The condition has to be in the format <variable_identifier|constant_identifier> [==|!=|<|>|in] <variable_identifier|constant_identifier> . Single subexpressions are also allowed on both the sides of the comparison by using parentheses and one of the following operators: +|-|*|/ . Examples: alarm_status == status_on : Check if the variable alarm_status is equals to the constant status_on temperature > threshold : Check if the variable temperature is higher than then constant threshold temperature > (threshold + delta) : Check if the temperature variable is higher than the constants threshold summed to another constant called delta \" Macro \" - macro is an advanced concept and not required for basic rules. If you want the same rule to be executed for multiple entities (e.g. different sensors), you can use macros without the need to write the same rule multiple times for different sensors. For example, if you want to be notified whenever the battery of multiple sensors is falling below a given threshold, you can setup a single rule and list as macros all the sensors you want to run this rule against. Go to the \" Macro \" tab, click on \" Add Placeholder \" and reference the sensor identifier. Then you can use the %i% placeholder in variables and actions that will be replaced with the sensor's value and the rule will be run in parallel for each instance For example: alarm/pir/ground_floor : the %i% placeholder is made available in variables and actions and can be used for e.g. referencing other sensors like %i%_armed which will be expanded into alarm/pir/ground_floor_armed \" Actions \" - when a rule triggers it will generate a notification without any additional configuration. This will show up in the web interface as well as any other notification module will be triggered. Optionally you may want to configure additional actions to e.g. set values to other sensors, trigger an actuator or trigger other rules. You can either SET a new value to a sensor, POLL a service associated to a sensor, RUN a different rule in the format [SET|POLL|RUN] <sensor_identifier|rule_identifier> [<value>] . Examples: SET alarm/door/first_floor_armed 1 : Set the value of the sensor alarm/door/first_floor_armed to 1 SET irrigation/control/req 1 : Turn the irrigation on by triggering the irrigation/control/req actuator RUN welcome_home : Run the rule with welcome_home identifier Disable a rule You can disable a rule from running without deleting it. Connect to the eGeoffrey web interface, as an admin user and go to \" House \", \" Rules \" under \" ADMINISTRATION \". A list of existing rules will be provided. Search for the rule you want to disable Click on the \" Actions \" button and select \"Edit Rule\". Check the \"Disabled\" box in the \"General\" tab and click on \"Save\". Delete a rule Connect to the eGeoffrey web interface, as an admin user and go to \" House \", \" Rules \" under \" ADMINISTRATION \". A list of existing rules will be provided. Search for the rule you want to disable Click on the \" Actions \" button and select \"Delete Rule\". Manually run a rule To manually run a rule for e.g. testing purposes: Connect to the eGeoffrey web interface, as an admin user and go to \" House \", \" Rules \" under \" ADMINISTRATION \". A list of existing rules will be provided. Search for the rule you want to disable Click on the \" Actions \" button and select \"Run Rule\".","title":"Configure Rules"},{"location":"configure/rules/#rules","text":"","title":"Rules"},{"location":"configure/rules/#definition","text":"Rules can execute specific tasks periodically or upon specific conditions . A rule is defined as a set constants (e.g. static values) and variables (e.g. values coming from sensors) combined in conditions . Notifications are generated whenever a configured rule triggers . Rules can also execute additional actions (e.g. set a value to a sensor, trigger another rule, etc.) You can see the configured rules and create new rules by accessing the web interface as an admin user and going to \" House \", \" Rules \" under \" Administration \".","title":"Definition"},{"location":"configure/rules/#add-a-new-rule","text":"To add a new rule, the process is the following: Connect to the eGeoffrey web interface, as an admin user and go to \" House \", \" Rules \" under \" ADMINISTRATION \". A list of existing rules will be provided; Click on the \" Add a New Rule \" button on top of the page. A wizard will show up. Provide the following information - anything with an asterisk is required: \" General \" - general settings for the rule: \" Rule identifier \": give the rule a name identifier. This is they way the rule can be referenced and invoked by other rules, widgets, etc. Alphanumeric characters only, including underscores and dashes are allowed; \" Disabled \": check this box if you want the rule to be disabled; \" Rule Text \": text of the rule when triggers. This is what will show up in the web interface under \"Notifications\" and what will be sent to any configured notification modules . If you want the text can be dynamically populated with configured variables' values, use placeholders like %variable_identifier% \" Severity \": the severity of the notification when this rule triggers. This can be used by notification modules to filter in or out specific notifications. Possible values are \"Alert\", \"Warning\" and \"Info\". \"Debug\" will generate a notification in the web interface but no notification modules will be triggered. \"None\" will not even generate the notification in the web interface but just produce an entry in the logs \" Type \" - type of the rule: \" Recurrent \": the rule will run based on a configured schedule. Select this option if you want this rule to execute only on a specific time like e.g. if you want to turn the lights on or off at a given time. When selected, a \"Schedule\" tab will show up to configure when and how often running the rule: \" Scheduling Mode \": select either \" Interval - run the job at fixed intervals of time \" or \" Cron - run the job periodically at certain time(s) of day \" \" Days/Hours/Minutes/Seconds \": fill in accordingly. If \" Interval \" was selected above, this is the frequency the rule will run, if \" Cron \" was selected, this is which time and how often to run \" On-Demand \": run the rule manually (or when requested by the chatbot). Select this option if you want to link the rule execution with e.g. a button of the web interface or if you want to run it by asking the chatbot to do something \" Realtime \": run the rule whenever one of the sensors listed in the \" Triggers \" tab is updated. Select this option if you want this rule to trigger only upon a change. For example if you want to turn the lights on when it is becoming too dark, you want to run this rule every time a light sensor is reporting a new value. After selecting this option, go to the \"Triggers\" tab, click on \"Add Trigger\" and write down the sensor identifier which will trigger the rule execution. Whenever a new value is recorded for this sensor, the rule will be evaluated. This doesn't mean a notification will trigger, it just means the conditions will be evaluated. \" Constants \" - if conditions are set, the rule triggers only when those are met. Conditions compare the values of variables (data stored in sensors) with constants (constant values). Conditions reference variables and constants so you need to configured them beforehand. Go to the \" Constants \" tab and click on \" Add Constant \". Give the constant an identifier (Alphanumeric characters only, including underscores and dashes are allowed) - this will be the way you can reference it in your conditions - and a value. For example set status_on to 1 so in your conditions you can check if the value of a sensor is on. \" Variables \" - Go to the \" Variables \" tab and click on \" Add Variable \". Give the variable an identifier (Alphanumeric characters only, including underscores and dashes are allowed) - this will be the way you can reference it in your conditions - and a sensor identifier as value. This will populate the variable with the latest value of the sensor. There are also additional, more advanced options you can leverage since the variable value can be in the format DISTANCE|TIMESTAMP|ELAPSED|COUNT|SCHEDULE|POSITION_LABEL|POSITION_TEXT] [-<start_position>],[-<end_position>] <sensor_identifier> where: DISTANCE : set the variable value to the distance from the current position to the lastest value of the referenced sensor identifier. The current position (latitude and longitude) is the one set in the House settings. If \"unit\" in House settings is set to \"metric\" the distance is returned in kilometers, otherwise in miles. Requires the sensor to have a \"position\" format; TIMESTAMP : set the variable value to the unix timestamp of the lastest value of the referenced sensor identifier; ELAPSED : set the variable value to the elapsed time in minutes since the latest measure of the referenced sensor identifier (e.g. 1 if last value is 1 minute old); COUNT : set the variable value to the number of values requested for the referenced sensor identifier; SCHEDULE : set the variable value to the value set by the user in the associated calendar widget if something has been scheduled for the time the rule runs, an enpty value otherwise. Requires the sensor to have a \"calendar\" format; POSITION_LABEL : set the variable value (e.g location) to the label of the latest value of the referenced sensor identifier. Requires the sensor to have a \"position\" format; POSITION_TEXT : set the variable value (e.g description) to the text of the latest value of the referenced sensor identifier. Requires the sensor to have a \"position\" format; If no position is requested, the latest value only is evaluated. If you want to retrive e.g. the latest two values, format will be -2,-1 sensor_id . For any variable defined here a placeholder in the format %variable_identifier% can be used in the rule's text and will be replaced by its value when the rule triggers. Examples: alarm_status = alarm/status : alarm_status will be assigned the latest value of the alarm/status/status sensor boiler_off_minutes = ELAPSED boiler/status : The elapsed time in minutes since the latest measure of boiler/status/status will be assigned to the variable boiler_off_minutes latest_5_days = -5,-1 outdoor/temperature/day/avg : The latest 5 daily averages of the sensor outdoor/temperature will be assigned to the variable latest_5_days \" Conditions \" - if no conditions are set, when the rule is run, it will just trigger. Conditions make the rule triggering only under specific circumstances. To add a condition, go to the \"Conditions\" tab. Conditions can be grouped in block, each block can have one or more conditions. Conditions within the same block will be evaluated in AND (all must meet for the block to be true) whereas block are evaluated in OR (if at least one block is true, the rule triggers). Previously defined constants and variables have to be used when setting up a condition. Please note when doing a comparison, static values are not allowed, they have to be defined as constants. Once again, the rule triggers if all the conditions of a block evaluate to true (AND). If there are multiple blocks the rule triggers when at least one block evaluate true (OR). Click on \"Add Block\" and then \"Add Condition\". Here you can compare your previously set constants and variables. The condition has to be in the format <variable_identifier|constant_identifier> [==|!=|<|>|in] <variable_identifier|constant_identifier> . Single subexpressions are also allowed on both the sides of the comparison by using parentheses and one of the following operators: +|-|*|/ . Examples: alarm_status == status_on : Check if the variable alarm_status is equals to the constant status_on temperature > threshold : Check if the variable temperature is higher than then constant threshold temperature > (threshold + delta) : Check if the temperature variable is higher than the constants threshold summed to another constant called delta \" Macro \" - macro is an advanced concept and not required for basic rules. If you want the same rule to be executed for multiple entities (e.g. different sensors), you can use macros without the need to write the same rule multiple times for different sensors. For example, if you want to be notified whenever the battery of multiple sensors is falling below a given threshold, you can setup a single rule and list as macros all the sensors you want to run this rule against. Go to the \" Macro \" tab, click on \" Add Placeholder \" and reference the sensor identifier. Then you can use the %i% placeholder in variables and actions that will be replaced with the sensor's value and the rule will be run in parallel for each instance For example: alarm/pir/ground_floor : the %i% placeholder is made available in variables and actions and can be used for e.g. referencing other sensors like %i%_armed which will be expanded into alarm/pir/ground_floor_armed \" Actions \" - when a rule triggers it will generate a notification without any additional configuration. This will show up in the web interface as well as any other notification module will be triggered. Optionally you may want to configure additional actions to e.g. set values to other sensors, trigger an actuator or trigger other rules. You can either SET a new value to a sensor, POLL a service associated to a sensor, RUN a different rule in the format [SET|POLL|RUN] <sensor_identifier|rule_identifier> [<value>] . Examples: SET alarm/door/first_floor_armed 1 : Set the value of the sensor alarm/door/first_floor_armed to 1 SET irrigation/control/req 1 : Turn the irrigation on by triggering the irrigation/control/req actuator RUN welcome_home : Run the rule with welcome_home identifier","title":"Add a new rule"},{"location":"configure/rules/#disable-a-rule","text":"You can disable a rule from running without deleting it. Connect to the eGeoffrey web interface, as an admin user and go to \" House \", \" Rules \" under \" ADMINISTRATION \". A list of existing rules will be provided. Search for the rule you want to disable Click on the \" Actions \" button and select \"Edit Rule\". Check the \"Disabled\" box in the \"General\" tab and click on \"Save\".","title":"Disable a rule"},{"location":"configure/rules/#delete-a-rule","text":"Connect to the eGeoffrey web interface, as an admin user and go to \" House \", \" Rules \" under \" ADMINISTRATION \". A list of existing rules will be provided. Search for the rule you want to disable Click on the \" Actions \" button and select \"Delete Rule\".","title":"Delete a rule"},{"location":"configure/rules/#manually-run-a-rule","text":"To manually run a rule for e.g. testing purposes: Connect to the eGeoffrey web interface, as an admin user and go to \" House \", \" Rules \" under \" ADMINISTRATION \". A list of existing rules will be provided. Search for the rule you want to disable Click on the \" Actions \" button and select \"Run Rule\".","title":"Manually run a rule"},{"location":"configure/sensors/","text":"Sensors Definition A sensor is a kind of virtual notebook where eGeoffrey write things down to remember what is going on and, when we ask any question, it\u2019s used to display information, trigger an alert to keep us aware of something or whatever we want eGeoffrey to do for us. Sensors range from those with naive functionality such as task lists or city weather conditions to more sophisticated ones such as those tracking what IoT home devices are measuring. More technically, in eGeoffrey a sensor is defined as a dataset, a logical container of one or more values . it can hold just a single piece of data or a timeseries; Sensor's values can come from an associated service (e.g. a url with an image, a command to run, etc.), from actions triggered by a rule or from your interaction with widgets on the web interface; a sensor is made of an id (e.g. the way the user references it) and additional information like retention policies, associated services, etc. First thing you need to do when you want to add additional data into eGeoffrey is adding a new sensor and associating it to a service. A sensor without a service associated is just a place where the user can store data (e.g. by acting on the web interface widgets or populated by a rule). You can see the configured sensors and create new sensors by accessing the web interface as an admin user and going to \" House \", \" Sensors \" under \" ADMINISTRATION \". Add a new sensor To register a new sensor with eGeoffrey, the process is the follow: Connect to the eGeoffrey web interface, as an admin user and go to \" House \", \" Sensors \" under \" ADMINISTRATION \". A list of existing sensors will be provided; Click on the \" Register New Sensor \" button on top of the page. A wizard will show up. Provide the following information - anything with an asterisk is required: \" General \" - general settings for the sensor: \" Sensor identifier \": give the sensor a name identifier. This is they way the sensor will be referenced by rules, visualization, etc. Alphanumeric characters only, including underscores and dashes are allowed; \" Disabled \": check this box if you want the sensor to be disabled; disabled sensors will not be considered by the associated services; \" Sensor Description \": optional short description for the sensor; \" Sensor Icon \": optional name of the icon when displaying the sensor in the list of sensors \" Data \" - settings related to the data stored by this sensor: \" Format \": the format the data to be stored in this sensor is expected to have (e.g. integer, float, string, image, etc.). This is entirely dependent on the service that will be associated with this sensor. Whenever possible, the input value is normalized before being saved (e.g. if the format is integer and the input value is 2.67, the value that will be saved will be 2). You can choose between: Integer : if you expect an interger value or if the sensor is a on/off switch (with values 1 or 0) Float w/ one decimal : if you expect an float value with one decimal (e.g 2.5) Float w/ two decimal : if you expect an float value with two decimal like (e.g. 2.56) String : if you expect a string value (e.g. \"cloudy\") Calendar : to associate with a calendar widget in the web interface for scheduling events Image : if the value is an image. Typically associated with modules returning images like egeoffrey-service-image Position : if the value is a a GPS position. Typically associated with modules returning GPS position like egeoffrey-service-earthquake Tasks : to associate with a Tasks - to do list widget when added to the web interface \" Unit \": optionally the unit of measure for the data of this sensor. Will be used in notifications and in visualizations as a suffix to the value (e.g. ppm) \" Minimum Value \": optional filter to avoid invalid data to be stored. When set, data below this value will be silently discarded; \" Maximum Value \": optional filter to avoid invalid data to be stored. When set, data above this value will be silently discarded; \" Allowed Values \": optional filter to avoid invalid data to be stored. When set, data different than provided list comma separated will be silently discarded; \" Processing \" - configuration of any automatic processing of the data: \" Automatic Aggregation \": if eGoeffrey has to perform any automatic aggregation of the data. For example if you want to automatically calculate every hour/day average, minimum and maximum values for a timeseries dataset. If not set, no aggregation of the data will be performed. Please keep in mind if you want to display timeseries data in a widget you would need to configure an aggregation; \" Retention Policies \": for how long you want eGeoffrey to store the data in this sensor. E.g. retain values for 5 days, hourly averages for 5 days and daily averages forever (ideal for timeseries) or retain the latest value only (ideal for actuators, status indicators, etc.). For any sensor for which you are interested in the latest value only, please set a retention policy to keep only this value, for any sensor storing timeseries data, please ensure you set an appropriate retention policy as well to avoid the database to grow indefinetely; \" Convert acquired value before being saved \": if the value has to be normalized or converted before being saved (e.g. the service associated can only return a temperature in Celsius and you need to visualize it in Fahrenheit etc.); \" Convert input value before being sent to an actuator \": if the sensor is an actuator and the value to be sent through the associated service has to be normalized or converted before being sent (e.g. the actuator can only handle strings \"ON\" and \"OFF\" but the sensor is storing integers like 0 and 1); How sensors data gets populated There are different ways through which sensors data get populated: By associating a sensor to a service By setting manually the value through the web interface By associating the sensor to a web interface widget and interacting with it By running a rule whose action set a value to the sensor Associate a sensor to a service A sensor without a service associated will just sit there and expect data to be set somehow. But when sensors really come to life is when they are associate to a service which will pull automatically data in or will help interacting with other external devices (e.g. actuators). While registering a new sensor or editing an existing one, go and click to the \" Service \" tab and do the following: Under \" Associated Service \", select the service you want to associate the sensor with. Please note only running services will show up in the list; Once selected, a new input called \" How to interact with the service \" will show up. Depending on the service capabilities, you can interact with one or more of the following ways: \" Pull \": periodically pull the sensor for new data. This applies for example for passive sensors you have to poll or weather service you have to actively query. When selected a new tab called \" Schedule \" will show up for configuring how to poll: \" Polling Mode \": select either \"Interval - run the job at fixed intervals of time\" or \"Cron - run the job periodically at certain time(s) of day\" \" Days/Hours/Minutes/Seconds \": fill in accordingly. If \" Interval \" was selected above, this is the frequency to poll for new data, if \" Cron \" was selected, this is which time and how often to poll \" Push \": the sensor will periodically provide new data. This applies for example for active sensors waking up and providing new data periodically based on their configuration. eGeoffrey just has to sit down, wait for new data and register it. \" Actuator \": this sensor is indeed an actuator so we do not expect new data to come in but when we set a value to the sensor this is also sent by the module to the physical actuator (e.g. we set 1 to the sensor and the relay turns on) How the sensor has to behave with the service can be configured in the \" Configuration \" tab. A valid service and mode have to be selected before this tab shows up. The configuration screen will be service-dependant. Typically here you will provide e.g. the latitude, longitude and the weather information you want to store like humidity, the node_id, child_id and type of the MySensors sensor to be associated with, etc. Get the latest value stored by a sensor Connect to the eGeoffrey web interface, as an admin user and go to \" House \", \" Sensors \" under \" ADMINISTRATION \". Search for a specific sensor; Click on the \" Actions \" button and select \" Refresh \". The latest value and timestamp will appear shortly in the right side of the row; Manually set the value to a sensor Connect to the eGeoffrey web interface, as an admin user and go to \" House \", \" Sensors \" under \" ADMINISTRATION \". Search for a specific sensor; Click on the \" Actions \" button and select \" Set Value \". An input prompt will show up. Set the value you want to set and click \" Ok \" The new value will then show up on the right side of the row; Show recent and historical data stored by a sensor Especially if a sensor is storing a timeseries and automatic aggregation is running on a hourly and daily base, you may be interested in having a look at recent and historical data without necessarily build an ad-hoc page. Connect to the eGeoffrey web interface, as an admin user and go to \" House \", \" Sensors \" under \" ADMINISTRATION \". Search for a specific sensor; Click on the \" Actions \" button and select \" History \". An page showing up latest values, hourly and daily timeseries will be presented; Delete a sensor If you want to delete a sensor and all the data associated with it: Connect to the eGeoffrey web interface, as an admin user and go to \" House \", \" Sensors \" under \" ADMINISTRATION \". Search for a specific sensor; Click on the \" Actions \" button and select \" Delete \"; If you instead want to delete any data stored by the sensor but keep the sensor itself: Connect to the eGeoffrey web interface, as an admin user and go to \" House \", \" Sensors \" under \" ADMINISTRATION \". Search for a specific sensor; Click on the \" Actions \" button and select \" Reset \"; Manually apply retention policies If you want to manually apply retention policies after e.g. having changed it: Connect to the eGeoffrey web interface, as an admin user and go to \" House \", \" Sensors \" under \" ADMINISTRATION \". Search for a specific sensor; Click on the \" Actions \" button and select \" Purge \";","title":"Add a Sensor"},{"location":"configure/sensors/#sensors","text":"","title":"Sensors"},{"location":"configure/sensors/#definition","text":"A sensor is a kind of virtual notebook where eGeoffrey write things down to remember what is going on and, when we ask any question, it\u2019s used to display information, trigger an alert to keep us aware of something or whatever we want eGeoffrey to do for us. Sensors range from those with naive functionality such as task lists or city weather conditions to more sophisticated ones such as those tracking what IoT home devices are measuring. More technically, in eGeoffrey a sensor is defined as a dataset, a logical container of one or more values . it can hold just a single piece of data or a timeseries; Sensor's values can come from an associated service (e.g. a url with an image, a command to run, etc.), from actions triggered by a rule or from your interaction with widgets on the web interface; a sensor is made of an id (e.g. the way the user references it) and additional information like retention policies, associated services, etc. First thing you need to do when you want to add additional data into eGeoffrey is adding a new sensor and associating it to a service. A sensor without a service associated is just a place where the user can store data (e.g. by acting on the web interface widgets or populated by a rule). You can see the configured sensors and create new sensors by accessing the web interface as an admin user and going to \" House \", \" Sensors \" under \" ADMINISTRATION \".","title":"Definition"},{"location":"configure/sensors/#add-a-new-sensor","text":"To register a new sensor with eGeoffrey, the process is the follow: Connect to the eGeoffrey web interface, as an admin user and go to \" House \", \" Sensors \" under \" ADMINISTRATION \". A list of existing sensors will be provided; Click on the \" Register New Sensor \" button on top of the page. A wizard will show up. Provide the following information - anything with an asterisk is required: \" General \" - general settings for the sensor: \" Sensor identifier \": give the sensor a name identifier. This is they way the sensor will be referenced by rules, visualization, etc. Alphanumeric characters only, including underscores and dashes are allowed; \" Disabled \": check this box if you want the sensor to be disabled; disabled sensors will not be considered by the associated services; \" Sensor Description \": optional short description for the sensor; \" Sensor Icon \": optional name of the icon when displaying the sensor in the list of sensors \" Data \" - settings related to the data stored by this sensor: \" Format \": the format the data to be stored in this sensor is expected to have (e.g. integer, float, string, image, etc.). This is entirely dependent on the service that will be associated with this sensor. Whenever possible, the input value is normalized before being saved (e.g. if the format is integer and the input value is 2.67, the value that will be saved will be 2). You can choose between: Integer : if you expect an interger value or if the sensor is a on/off switch (with values 1 or 0) Float w/ one decimal : if you expect an float value with one decimal (e.g 2.5) Float w/ two decimal : if you expect an float value with two decimal like (e.g. 2.56) String : if you expect a string value (e.g. \"cloudy\") Calendar : to associate with a calendar widget in the web interface for scheduling events Image : if the value is an image. Typically associated with modules returning images like egeoffrey-service-image Position : if the value is a a GPS position. Typically associated with modules returning GPS position like egeoffrey-service-earthquake Tasks : to associate with a Tasks - to do list widget when added to the web interface \" Unit \": optionally the unit of measure for the data of this sensor. Will be used in notifications and in visualizations as a suffix to the value (e.g. ppm) \" Minimum Value \": optional filter to avoid invalid data to be stored. When set, data below this value will be silently discarded; \" Maximum Value \": optional filter to avoid invalid data to be stored. When set, data above this value will be silently discarded; \" Allowed Values \": optional filter to avoid invalid data to be stored. When set, data different than provided list comma separated will be silently discarded; \" Processing \" - configuration of any automatic processing of the data: \" Automatic Aggregation \": if eGoeffrey has to perform any automatic aggregation of the data. For example if you want to automatically calculate every hour/day average, minimum and maximum values for a timeseries dataset. If not set, no aggregation of the data will be performed. Please keep in mind if you want to display timeseries data in a widget you would need to configure an aggregation; \" Retention Policies \": for how long you want eGeoffrey to store the data in this sensor. E.g. retain values for 5 days, hourly averages for 5 days and daily averages forever (ideal for timeseries) or retain the latest value only (ideal for actuators, status indicators, etc.). For any sensor for which you are interested in the latest value only, please set a retention policy to keep only this value, for any sensor storing timeseries data, please ensure you set an appropriate retention policy as well to avoid the database to grow indefinetely; \" Convert acquired value before being saved \": if the value has to be normalized or converted before being saved (e.g. the service associated can only return a temperature in Celsius and you need to visualize it in Fahrenheit etc.); \" Convert input value before being sent to an actuator \": if the sensor is an actuator and the value to be sent through the associated service has to be normalized or converted before being sent (e.g. the actuator can only handle strings \"ON\" and \"OFF\" but the sensor is storing integers like 0 and 1);","title":"Add a new sensor"},{"location":"configure/sensors/#how-sensors-data-gets-populated","text":"There are different ways through which sensors data get populated: By associating a sensor to a service By setting manually the value through the web interface By associating the sensor to a web interface widget and interacting with it By running a rule whose action set a value to the sensor","title":"How sensors data gets populated"},{"location":"configure/sensors/#associate-a-sensor-to-a-service","text":"A sensor without a service associated will just sit there and expect data to be set somehow. But when sensors really come to life is when they are associate to a service which will pull automatically data in or will help interacting with other external devices (e.g. actuators). While registering a new sensor or editing an existing one, go and click to the \" Service \" tab and do the following: Under \" Associated Service \", select the service you want to associate the sensor with. Please note only running services will show up in the list; Once selected, a new input called \" How to interact with the service \" will show up. Depending on the service capabilities, you can interact with one or more of the following ways: \" Pull \": periodically pull the sensor for new data. This applies for example for passive sensors you have to poll or weather service you have to actively query. When selected a new tab called \" Schedule \" will show up for configuring how to poll: \" Polling Mode \": select either \"Interval - run the job at fixed intervals of time\" or \"Cron - run the job periodically at certain time(s) of day\" \" Days/Hours/Minutes/Seconds \": fill in accordingly. If \" Interval \" was selected above, this is the frequency to poll for new data, if \" Cron \" was selected, this is which time and how often to poll \" Push \": the sensor will periodically provide new data. This applies for example for active sensors waking up and providing new data periodically based on their configuration. eGeoffrey just has to sit down, wait for new data and register it. \" Actuator \": this sensor is indeed an actuator so we do not expect new data to come in but when we set a value to the sensor this is also sent by the module to the physical actuator (e.g. we set 1 to the sensor and the relay turns on) How the sensor has to behave with the service can be configured in the \" Configuration \" tab. A valid service and mode have to be selected before this tab shows up. The configuration screen will be service-dependant. Typically here you will provide e.g. the latitude, longitude and the weather information you want to store like humidity, the node_id, child_id and type of the MySensors sensor to be associated with, etc.","title":"Associate a sensor to a service"},{"location":"configure/sensors/#get-the-latest-value-stored-by-a-sensor","text":"Connect to the eGeoffrey web interface, as an admin user and go to \" House \", \" Sensors \" under \" ADMINISTRATION \". Search for a specific sensor; Click on the \" Actions \" button and select \" Refresh \". The latest value and timestamp will appear shortly in the right side of the row;","title":"Get the latest value stored by a sensor"},{"location":"configure/sensors/#manually-set-the-value-to-a-sensor","text":"Connect to the eGeoffrey web interface, as an admin user and go to \" House \", \" Sensors \" under \" ADMINISTRATION \". Search for a specific sensor; Click on the \" Actions \" button and select \" Set Value \". An input prompt will show up. Set the value you want to set and click \" Ok \" The new value will then show up on the right side of the row;","title":"Manually set the value to a sensor"},{"location":"configure/sensors/#show-recent-and-historical-data-stored-by-a-sensor","text":"Especially if a sensor is storing a timeseries and automatic aggregation is running on a hourly and daily base, you may be interested in having a look at recent and historical data without necessarily build an ad-hoc page. Connect to the eGeoffrey web interface, as an admin user and go to \" House \", \" Sensors \" under \" ADMINISTRATION \". Search for a specific sensor; Click on the \" Actions \" button and select \" History \". An page showing up latest values, hourly and daily timeseries will be presented;","title":"Show recent and historical data stored by a sensor"},{"location":"configure/sensors/#delete-a-sensor","text":"If you want to delete a sensor and all the data associated with it: Connect to the eGeoffrey web interface, as an admin user and go to \" House \", \" Sensors \" under \" ADMINISTRATION \". Search for a specific sensor; Click on the \" Actions \" button and select \" Delete \"; If you instead want to delete any data stored by the sensor but keep the sensor itself: Connect to the eGeoffrey web interface, as an admin user and go to \" House \", \" Sensors \" under \" ADMINISTRATION \". Search for a specific sensor; Click on the \" Actions \" button and select \" Reset \";","title":"Delete a sensor"},{"location":"configure/sensors/#manually-apply-retention-policies","text":"If you want to manually apply retention policies after e.g. having changed it: Connect to the eGeoffrey web interface, as an admin user and go to \" House \", \" Sensors \" under \" ADMINISTRATION \". Search for a specific sensor; Click on the \" Actions \" button and select \" Purge \";","title":"Manually apply retention policies"},{"location":"configure/troubleshooting/","text":"Troubleshooting Reviewing the Logs Something can always go wrong. And usually this is the time to check your logs: Logs can be accessed from the web interface : Log in as an admin user and go to \" eGeoffrey \", \" Logs \" under \" ADMINISTRATION \" Logs are stored on the local filesystem : Log in via SSH to the system hiring eGeoffrey Go to the directory where eGeoffrey is installed Open up the file data/egeoffrey/logs/egeoffrey.log Logs can be accessed live while they are generated: Log in via SSH to the system hiring eGeoffrey Go to the directory where eGeoffrey is installed Run the command sudo egeoffrey-cli house logs [<package_name>] Enable debug output If something is not working as expected in a specific eGeoffrey component, you can turn debug logging on. To do so, go to \" eGeoffrey \", \" Modules \" under \" ADMINISTRATION \", identify the module you want to enable debug on and check the debug checkbox. No need to restart anything, debug will be enabled straigth away. GO back to you logs and you will see the debug entries.","title":"Troubleshooting"},{"location":"configure/troubleshooting/#troubleshooting","text":"","title":"Troubleshooting"},{"location":"configure/troubleshooting/#reviewing-the-logs","text":"Something can always go wrong. And usually this is the time to check your logs: Logs can be accessed from the web interface : Log in as an admin user and go to \" eGeoffrey \", \" Logs \" under \" ADMINISTRATION \" Logs are stored on the local filesystem : Log in via SSH to the system hiring eGeoffrey Go to the directory where eGeoffrey is installed Open up the file data/egeoffrey/logs/egeoffrey.log Logs can be accessed live while they are generated: Log in via SSH to the system hiring eGeoffrey Go to the directory where eGeoffrey is installed Run the command sudo egeoffrey-cli house logs [<package_name>]","title":"Reviewing the Logs"},{"location":"configure/troubleshooting/#enable-debug-output","text":"If something is not working as expected in a specific eGeoffrey component, you can turn debug logging on. To do so, go to \" eGeoffrey \", \" Modules \" under \" ADMINISTRATION \", identify the module you want to enable debug on and check the debug checkbox. No need to restart anything, debug will be enabled straigth away. GO back to you logs and you will see the debug entries.","title":"Enable debug output"},{"location":"configure/upgrade/","text":"Keeping eGeoffrey up to date eGeoffrey, like any other piece of software, evolves over the time with new capabilities added and bugs fixed. When you login to the web interface, automatically eGeoffrey checks if there is any of the installed packages requiring to be updated and notifies you straight away. If you feel this behaviour to be annoying, go to \" House \", \" Settings \" under \" ADMINISTRATION \", click the \"Web Interface\" tab and uncheck the box \"Check for Updates at Login\". Whenever you want/need to upgrade eGeoffrey, you need to login via SSH to the system hosting eGeoffrey (upgrades are not possible through the web interface) and run: sudo egeoffrey-cli package update [<package_name>] If no package name is provided, all the packages will be updated if a new version is available. Please note the command will just download the updated package. In order to apply the changes, run sudo egeoffrey-cli house start which will restart any updated package. If egeoffrey-gui is one of those updated packages, also ensure to clean up your browser cache before visiting the eGeoffrey web interface since the old gui could be cached by the browser.","title":"Upgrades"},{"location":"configure/upgrade/#keeping-egeoffrey-up-to-date","text":"eGeoffrey, like any other piece of software, evolves over the time with new capabilities added and bugs fixed. When you login to the web interface, automatically eGeoffrey checks if there is any of the installed packages requiring to be updated and notifies you straight away. If you feel this behaviour to be annoying, go to \" House \", \" Settings \" under \" ADMINISTRATION \", click the \"Web Interface\" tab and uncheck the box \"Check for Updates at Login\". Whenever you want/need to upgrade eGeoffrey, you need to login via SSH to the system hosting eGeoffrey (upgrades are not possible through the web interface) and run: sudo egeoffrey-cli package update [<package_name>] If no package name is provided, all the packages will be updated if a new version is available. Please note the command will just download the updated package. In order to apply the changes, run sudo egeoffrey-cli house start which will restart any updated package. If egeoffrey-gui is one of those updated packages, also ensure to clean up your browser cache before visiting the eGeoffrey web interface since the old gui could be cached by the browser.","title":"Keeping eGeoffrey up to date"},{"location":"configure/users/","text":"User Management Generally speaking there are two level of authentication to access eGeoffrey: House ID and Passcode - used to authenticate against the eGeoffrey gateway . Every user of the same house shares the same house id and passcode. Defaults are \"house\" house ID and no password. This additional level of authentication is useful only when hosting multiple houses in the same eGeoffrey instance Username and password - to access the web interface . By default the following two users are configured: guest / <no password> : guest user admin / admin : admin user The first time a user connects to the eGeoffrey web interface, it is by default logged in as a guest user. The browser will remember the credentials (and the page) lastly used; Managing users is not strictly required in eGeoffrey so if you are a first-time user, ignore this page. But in case you want to prevent anonymous users to access your eGeoffrey or give different users access to different pages, you can start exploring these functionalities. This help page covers only user management for the web interface, not the one at the gateway level which is a more advanced topic and not relevant for most of the users. Definitions User : a user is who is accessing the web interface. Users can belong to one or more groups Group : a group is what ACLs (Access Control List) leverage to e.g. restrict access to specific pages or widgets to users belonging to that group. Users can belong to one or more groups. The following default groups are provided: \" guests \": guest users can access the entire web interface but not the administration pages \" house_admins \": house admins can access the entire web interface and also the \" House \" menu under \" ADMINISTRATION \" to manage the house, register new sensors, create new rules \" egeoffrey_admins \": eGeoffrey admins can access the entire web interface, the \" House \" menu as well as the \" eGeoffrey \" menu under \" ADMINISTRATION \" for configuring installed packages and modules, reviewing the logs, gain insight of the database and gateway. How to add a new user Connect to the eGeoffrey web interface, as an admin user and go to \" House \", \" Users \" under \" ADMINISTRATION \". Click on the \" Users \" tab Click on \" New User \" button Type in the username of the new user then click on \"Ok\" The new user will show up, ready to be configured. Fill in the following information: \" Fullname \": type in name and surname of the user. This will be just the name showing up in the top left of the page once logged in, just above the menu \" Icon \": name of the icon to associate to the user. This will show up just aside the name in the top left of the page, just above the menu. If usure, type in \"user\" \" Password \": optional password for the user to login Click on the \"Save\" button How to add a new group Connect to the eGeoffrey web interface, as an admin user and go to \" House \", \" Users \" under \" ADMINISTRATION \". Click on the \" Groups \" tab Click on \" New Group \" button Type in the username of the new group then click on \"Ok\" The new group will show up, ready to be configured Click on the \" New User \" button to add a user to the group. The username should already exist Click on the \"Save\" button How to delete an existing user/group Connect to the eGeoffrey web interface, as an admin user and go to \" House \", \" Users \" under \" ADMINISTRATION \". Click on the \" Users \" or \" Groups \" tab Select the user/group you want to delete Click on the \" Delete User \"/\" Delete Group \" button Click on the \"Save\" button How to restrict access to a given page Image you want to have access to a specific page but don't want the rest of your family to do so. What you need to do is the following: Configuring different users to belong to different groups. You can use the existing users/groups or create new custom users/groups As an admin,go to \" House \", \" Menu \" under \" ADMINISTRATION \" Select the menu item you want to apply the ACL to, click on \"Actions\" then on \"Edit\" Under \" Authorized Groups \" click on \" Add Group \" Type in the name of the group you want this page to be visible and accessible; multiple groups can be added. If none are listed (the default) every group will be able to access the page Click on the \"Save\" button and wait for a few seconds for the configuration to be applied. Now only when logged in with a user belonging to one of the authorized group the menu item will be visible How to restrict access to a given widget in a page Image you want only some users to see specific widgets of a given page. What you need to do is the following: Configuring different users to belong to different groups. You can use the existing users/groups or create new custom users/groups As an admin, open up the page containing the widget you want to restrict access to, click on \" Edit Page \" button at the top right of the page and then the edit button in the top right of the widget you want to configure Click on the \" Permissions \" tab Under \" Authorized Groups \" click on \" Add Group \" Type in the name of the group you want this widget to be visible; multiple groups can be added. If none are listed (the default) every group will be able to access the widget Click on the \"Save\" button and wait for a few seconds for the configuration to be applied. Now only when logged in with a user belonging to one of the authorized group the widget will be visible How to prevent anonymous login By default, if a guest user without a password exists, when accessing eGeoffrey's web interface, access is granted. If you want any user to login (with or without a password), delete or set a password to the \"guest\" user.","title":"Manage your Users"},{"location":"configure/users/#user-management","text":"Generally speaking there are two level of authentication to access eGeoffrey: House ID and Passcode - used to authenticate against the eGeoffrey gateway . Every user of the same house shares the same house id and passcode. Defaults are \"house\" house ID and no password. This additional level of authentication is useful only when hosting multiple houses in the same eGeoffrey instance Username and password - to access the web interface . By default the following two users are configured: guest / <no password> : guest user admin / admin : admin user The first time a user connects to the eGeoffrey web interface, it is by default logged in as a guest user. The browser will remember the credentials (and the page) lastly used; Managing users is not strictly required in eGeoffrey so if you are a first-time user, ignore this page. But in case you want to prevent anonymous users to access your eGeoffrey or give different users access to different pages, you can start exploring these functionalities. This help page covers only user management for the web interface, not the one at the gateway level which is a more advanced topic and not relevant for most of the users.","title":"User Management"},{"location":"configure/users/#definitions","text":"User : a user is who is accessing the web interface. Users can belong to one or more groups Group : a group is what ACLs (Access Control List) leverage to e.g. restrict access to specific pages or widgets to users belonging to that group. Users can belong to one or more groups. The following default groups are provided: \" guests \": guest users can access the entire web interface but not the administration pages \" house_admins \": house admins can access the entire web interface and also the \" House \" menu under \" ADMINISTRATION \" to manage the house, register new sensors, create new rules \" egeoffrey_admins \": eGeoffrey admins can access the entire web interface, the \" House \" menu as well as the \" eGeoffrey \" menu under \" ADMINISTRATION \" for configuring installed packages and modules, reviewing the logs, gain insight of the database and gateway.","title":"Definitions"},{"location":"configure/users/#how-to-add-a-new-user","text":"Connect to the eGeoffrey web interface, as an admin user and go to \" House \", \" Users \" under \" ADMINISTRATION \". Click on the \" Users \" tab Click on \" New User \" button Type in the username of the new user then click on \"Ok\" The new user will show up, ready to be configured. Fill in the following information: \" Fullname \": type in name and surname of the user. This will be just the name showing up in the top left of the page once logged in, just above the menu \" Icon \": name of the icon to associate to the user. This will show up just aside the name in the top left of the page, just above the menu. If usure, type in \"user\" \" Password \": optional password for the user to login Click on the \"Save\" button","title":"How to add a new user"},{"location":"configure/users/#how-to-add-a-new-group","text":"Connect to the eGeoffrey web interface, as an admin user and go to \" House \", \" Users \" under \" ADMINISTRATION \". Click on the \" Groups \" tab Click on \" New Group \" button Type in the username of the new group then click on \"Ok\" The new group will show up, ready to be configured Click on the \" New User \" button to add a user to the group. The username should already exist Click on the \"Save\" button","title":"How to add a new group"},{"location":"configure/users/#how-to-delete-an-existing-usergroup","text":"Connect to the eGeoffrey web interface, as an admin user and go to \" House \", \" Users \" under \" ADMINISTRATION \". Click on the \" Users \" or \" Groups \" tab Select the user/group you want to delete Click on the \" Delete User \"/\" Delete Group \" button Click on the \"Save\" button","title":"How to delete an existing user/group"},{"location":"configure/users/#how-to-restrict-access-to-a-given-page","text":"Image you want to have access to a specific page but don't want the rest of your family to do so. What you need to do is the following: Configuring different users to belong to different groups. You can use the existing users/groups or create new custom users/groups As an admin,go to \" House \", \" Menu \" under \" ADMINISTRATION \" Select the menu item you want to apply the ACL to, click on \"Actions\" then on \"Edit\" Under \" Authorized Groups \" click on \" Add Group \" Type in the name of the group you want this page to be visible and accessible; multiple groups can be added. If none are listed (the default) every group will be able to access the page Click on the \"Save\" button and wait for a few seconds for the configuration to be applied. Now only when logged in with a user belonging to one of the authorized group the menu item will be visible","title":"How to restrict access to a given page"},{"location":"configure/users/#how-to-restrict-access-to-a-given-widget-in-a-page","text":"Image you want only some users to see specific widgets of a given page. What you need to do is the following: Configuring different users to belong to different groups. You can use the existing users/groups or create new custom users/groups As an admin, open up the page containing the widget you want to restrict access to, click on \" Edit Page \" button at the top right of the page and then the edit button in the top right of the widget you want to configure Click on the \" Permissions \" tab Under \" Authorized Groups \" click on \" Add Group \" Type in the name of the group you want this widget to be visible; multiple groups can be added. If none are listed (the default) every group will be able to access the widget Click on the \"Save\" button and wait for a few seconds for the configuration to be applied. Now only when logged in with a user belonging to one of the authorized group the widget will be visible","title":"How to restrict access to a given widget in a page"},{"location":"configure/users/#how-to-prevent-anonymous-login","text":"By default, if a guest user without a password exists, when accessing eGeoffrey's web interface, access is granted. If you want any user to login (with or without a password), delete or set a password to the \"guest\" user.","title":"How to prevent anonymous login"},{"location":"configure/workflow/","text":"Configuration Workflow As you install eGeoffrey, it has a nice look & feel but tells you nothing about your house yet. eGeoffrey's customization is really simple, leverages a set of pre-built modular components for integrating with your existing devices and follows always a structured workflow. What you want to get eventually is a visual representation of something but to get there you have a few steps to go through: Define what you want to do and install the relevant packages : eGeoffrey is modular and its capabilities are build up in self-contained components. Those are what you see listed in the Marketplace . Define first what you want to do (e.g. get temperature measures from the Internet, trigger a MySensors relay, etc.), find in the Marketplace the package providing this capability (e.g. the module in eGeoffrey's vocabulary) and install it; Configure the newly installed module : once the package is installed, the new functionalities will be ready to be leveraged. Most of the modules tough requires some basic configuration to start up (e.g. the API key of the cloud-based weather service, the serial port to connect to, etc.). One special kind of module is called \"service\", this is the one your sensors can leverage to get data in automatically; Add a new sensor and associate it to a service : register a new sensor, give it a name, tell eGeoffrey which format it has to expect your data in, if it has to apply any automatic aggregation or retention policies, which service it has to be associated with for getting data in or performing actions; Once the sensor starts getting data, visualize it : customize the web interface to make your data showing up in the way you like the most. Add new pages and different widgets to e.g. see the latest value of a sensor, control your actuators, etc. Set conditions which would make rules triggering notifications : execute specific tasks periodically or when given conditions are met by evaluating your sensors' data and generate notifications;","title":"Typical Workflow"},{"location":"configure/workflow/#configuration-workflow","text":"As you install eGeoffrey, it has a nice look & feel but tells you nothing about your house yet. eGeoffrey's customization is really simple, leverages a set of pre-built modular components for integrating with your existing devices and follows always a structured workflow. What you want to get eventually is a visual representation of something but to get there you have a few steps to go through: Define what you want to do and install the relevant packages : eGeoffrey is modular and its capabilities are build up in self-contained components. Those are what you see listed in the Marketplace . Define first what you want to do (e.g. get temperature measures from the Internet, trigger a MySensors relay, etc.), find in the Marketplace the package providing this capability (e.g. the module in eGeoffrey's vocabulary) and install it; Configure the newly installed module : once the package is installed, the new functionalities will be ready to be leveraged. Most of the modules tough requires some basic configuration to start up (e.g. the API key of the cloud-based weather service, the serial port to connect to, etc.). One special kind of module is called \"service\", this is the one your sensors can leverage to get data in automatically; Add a new sensor and associate it to a service : register a new sensor, give it a name, tell eGeoffrey which format it has to expect your data in, if it has to apply any automatic aggregation or retention policies, which service it has to be associated with for getting data in or performing actions; Once the sensor starts getting data, visualize it : customize the web interface to make your data showing up in the way you like the most. Add new pages and different widgets to e.g. see the latest value of a sensor, control your actuators, etc. Set conditions which would make rules triggering notifications : execute specific tasks periodically or when given conditions are met by evaluating your sensors' data and generate notifications;","title":"Configuration Workflow"},{"location":"configure/gui/widgets/timeline/","text":"Timeline Widget Timeline widgets allow to display your data along a timeline so to visually see how the measure has changed along a timeframe. It is useful when you want to see e.g. how the temperature has changed over the last hours or days. Add a new widget As with any other widget, go to the page you want to add it, click on the \" Edit Page \" button (top right) and then on the \" Add Widget \" button in the row you want to add the widget into. Configure/Edit the widget Sensors to Plot : reference the sensor identifier containing the data you want to add to the timeline. Multiple sensors can be added by clicking the \" Add Sensor \" button. If the sensor is formatted as a number (integer or float), its values will be drawn in the timeline, if it is formatted as a string, the string is assumed to reference a valid icon name and that icon will be be drawn as a label attached to the timeline of first sensor. Display Aggregated Data : you can choose if you want to display the values or aggregated data. This configuration applies to all the sensors listed above: \" Show series with latest measures \": displays directly the measures recorded for the sensors. If e.g. the sensor is storing temperatures and we recorded 10 values in the last hour, all of those will be displayed in the timeline. By the default, up to the latest 4 hours are displayed. \" Show series with hourly averages \": displays hourly averages for the sensor. Requires the sensor to be configured with an \"Automatic Aggregation\" policy which takes care of calculating for every hour averages/minimum/maximum values, otherwise no data will show up. By the default, up to the latest 24 hours are displayed. \" Show series with daily averages \": displays daily averages for the sensor. Requires the sensor to be configured with an \"Automatic Aggregation\" policy which takes care of calculating for every day averages/minimum/maximum values, otherwise no data will show up. By the default, up to the latest 365 days are displayed. Chart Style : the style of the chart. By default is \"spline\", you can customize it to e.g. \"line\" or \"bar\". Custom Series to Display : as you know, a sensor can be configured with an \"Automatic Aggregation\" policy which makes eGeoffrey automatically calculating aggregated additional series on top of the same dataset like for example the \"hour\", \"day\" or \"sum\" series etc. By default, the series to display is selected automatically depending on the \"Display Aggregated Data\" setting so no need to customize this parameter. But, if for example your sensor is configured to have a \"sum\" series automatically created for you and you want to display it, simply write \"sum\" into this box. This configuration applies to all the sensors listed above. Custom Timeframe : the timeframe for the widget (e.g. time between the first and last event to display), is automatically selected depending on the way \"Display Aggregated Data\" is set (defaults are detailed above). But, if for example you want to display a wider/narrow timeframe, provide in the box an input formatted as last_<number>_<days/hours> (e.g. \"last_24_hours\", \"last_30_days\", etc.). Beware the values actually displayed also depend on the \"Retention Policy\" set to the sensors. If for example you have set a retention policy which keeps \"values for 5 days, hourly averages for 5 days and daily averages forever\", even requesting to display the last 30 days for e.g. hourly averages will not be effective since up to 5 days only of data are kept into the database for that specific series. Range with Min and Max is Displayed for First Sensor. Check for Not Displaying : if hourly or daily averages are selected in \"Display Aggregated Data\" and only for the first \"Sensor to Plot\", in addition to the averages, a range area between minimum and maximum hourly values will be displayed as well. Check this box if you don't want to display this additional series Bottomline, \"Sensors to Plot\" tells eGeoffrey which sensors you want to add to the widget, \"Display Aggregated Data\"/\"Custom Series to Display\" which series of the data to draw, \"Display Aggregated Data\"/\"Custom Timeframe\" which timeframe to plot and \"Chart Style\" which style to use.","title":"Timeline Widget"},{"location":"configure/gui/widgets/timeline/#timeline-widget","text":"Timeline widgets allow to display your data along a timeline so to visually see how the measure has changed along a timeframe. It is useful when you want to see e.g. how the temperature has changed over the last hours or days.","title":"Timeline Widget"},{"location":"configure/gui/widgets/timeline/#add-a-new-widget","text":"As with any other widget, go to the page you want to add it, click on the \" Edit Page \" button (top right) and then on the \" Add Widget \" button in the row you want to add the widget into.","title":"Add a new widget"},{"location":"configure/gui/widgets/timeline/#configureedit-the-widget","text":"Sensors to Plot : reference the sensor identifier containing the data you want to add to the timeline. Multiple sensors can be added by clicking the \" Add Sensor \" button. If the sensor is formatted as a number (integer or float), its values will be drawn in the timeline, if it is formatted as a string, the string is assumed to reference a valid icon name and that icon will be be drawn as a label attached to the timeline of first sensor. Display Aggregated Data : you can choose if you want to display the values or aggregated data. This configuration applies to all the sensors listed above: \" Show series with latest measures \": displays directly the measures recorded for the sensors. If e.g. the sensor is storing temperatures and we recorded 10 values in the last hour, all of those will be displayed in the timeline. By the default, up to the latest 4 hours are displayed. \" Show series with hourly averages \": displays hourly averages for the sensor. Requires the sensor to be configured with an \"Automatic Aggregation\" policy which takes care of calculating for every hour averages/minimum/maximum values, otherwise no data will show up. By the default, up to the latest 24 hours are displayed. \" Show series with daily averages \": displays daily averages for the sensor. Requires the sensor to be configured with an \"Automatic Aggregation\" policy which takes care of calculating for every day averages/minimum/maximum values, otherwise no data will show up. By the default, up to the latest 365 days are displayed. Chart Style : the style of the chart. By default is \"spline\", you can customize it to e.g. \"line\" or \"bar\". Custom Series to Display : as you know, a sensor can be configured with an \"Automatic Aggregation\" policy which makes eGeoffrey automatically calculating aggregated additional series on top of the same dataset like for example the \"hour\", \"day\" or \"sum\" series etc. By default, the series to display is selected automatically depending on the \"Display Aggregated Data\" setting so no need to customize this parameter. But, if for example your sensor is configured to have a \"sum\" series automatically created for you and you want to display it, simply write \"sum\" into this box. This configuration applies to all the sensors listed above. Custom Timeframe : the timeframe for the widget (e.g. time between the first and last event to display), is automatically selected depending on the way \"Display Aggregated Data\" is set (defaults are detailed above). But, if for example you want to display a wider/narrow timeframe, provide in the box an input formatted as last_<number>_<days/hours> (e.g. \"last_24_hours\", \"last_30_days\", etc.). Beware the values actually displayed also depend on the \"Retention Policy\" set to the sensors. If for example you have set a retention policy which keeps \"values for 5 days, hourly averages for 5 days and daily averages forever\", even requesting to display the last 30 days for e.g. hourly averages will not be effective since up to 5 days only of data are kept into the database for that specific series. Range with Min and Max is Displayed for First Sensor. Check for Not Displaying : if hourly or daily averages are selected in \"Display Aggregated Data\" and only for the first \"Sensor to Plot\", in addition to the averages, a range area between minimum and maximum hourly values will be displayed as well. Check this box if you don't want to display this additional series Bottomline, \"Sensors to Plot\" tells eGeoffrey which sensors you want to add to the widget, \"Display Aggregated Data\"/\"Custom Series to Display\" which series of the data to draw, \"Display Aggregated Data\"/\"Custom Timeframe\" which timeframe to plot and \"Chart Style\" which style to use.","title":"Configure/Edit the widget"},{"location":"installation/install/","text":"Hi eGeoffrey, please come on in Even though eGeoffrey is going to make a lot of things for you, you need to setup its accommodation; it'll take a while, and the effort you have to make will depend upon the services you want eGeoffrey to offer you, but the process is as easy as: Open a door to enter eGeoffrey's accommodation; the steps to open a door, commonly called open remote access , to enter eGeoffrey's accommodation (aka Raspberry/Orange Pi ) are described at SSH (Secure Shell) . Bring furnitures and groceries eGeoffrey likes the most to its new accommodation. Don't worry, these furnitures and groceries are just bits and bytes that you can get remotely for free ; remember that eGeoffrey is an electronic butler and it likes this kind of things. In order to bring all this stuff together, go into the eGeoffrey's accommodation securely (SSH connection to cross that door) and tell the magic words (you better copy and paste the following line :) ): sudo bash -c \"$(curl -ssL https://get.egeoffrey.com)\" Let the workers do the setup , but tell them one thing or two to leave the accommodation the way you like for eGeoffrey. They will ask you the following: Where do you want to install eGeoffrey? , meaning where to leave all those furnitures and groceries for eGeoffrey; /opt/egeoffrey can be a nice place. The following video shows you how the workers, also called installer , do their job and the questions they will ask you: Once the installation is finished, it could take a while before eGeoffrey fully comes to life. Run the following to ensure every component is reported in a status of \"Up\" before connecting to the web interface: sudo egeoffrey-cli house status Once the workers are done, eGeoffrey is ready to enjoy its new accommodation: You can now access the web interface and finalize the installation.","title":"Installation process"},{"location":"installation/install/#hi-egeoffrey-please-come-on-in","text":"Even though eGeoffrey is going to make a lot of things for you, you need to setup its accommodation; it'll take a while, and the effort you have to make will depend upon the services you want eGeoffrey to offer you, but the process is as easy as: Open a door to enter eGeoffrey's accommodation; the steps to open a door, commonly called open remote access , to enter eGeoffrey's accommodation (aka Raspberry/Orange Pi ) are described at SSH (Secure Shell) . Bring furnitures and groceries eGeoffrey likes the most to its new accommodation. Don't worry, these furnitures and groceries are just bits and bytes that you can get remotely for free ; remember that eGeoffrey is an electronic butler and it likes this kind of things. In order to bring all this stuff together, go into the eGeoffrey's accommodation securely (SSH connection to cross that door) and tell the magic words (you better copy and paste the following line :) ): sudo bash -c \"$(curl -ssL https://get.egeoffrey.com)\" Let the workers do the setup , but tell them one thing or two to leave the accommodation the way you like for eGeoffrey. They will ask you the following: Where do you want to install eGeoffrey? , meaning where to leave all those furnitures and groceries for eGeoffrey; /opt/egeoffrey can be a nice place. The following video shows you how the workers, also called installer , do their job and the questions they will ask you: Once the installation is finished, it could take a while before eGeoffrey fully comes to life. Run the following to ensure every component is reported in a status of \"Up\" before connecting to the web interface: sudo egeoffrey-cli house status Once the workers are done, eGeoffrey is ready to enjoy its new accommodation: You can now access the web interface and finalize the installation.","title":"Hi eGeoffrey, please come on in"},{"location":"installation/troubleshooting/","text":"Installation troubleshooting What is something went wrong and you don't see eGeoffrey coming to life? Here are some basic steps you can take to understand what has happened. I cannot access the web interface after the installation Ensure the system where eGeoffrey has been installed is reachable (e.g. you can ping it) Ensure your browser is pointing to the right IP address (the one reported by the installation process is not necessarily the right one) Ensure there is no firewall running ( iptables -L should have not DROP/DENY lines) Ensure all eGeoffrey's components are correctly running by executing egeoffrey-cli house status from within the directory where eGeoffrey has been installed. Ensure all of them are in a \"Up\" status. Check if the GUI service is accessible by running netstat -tunap |grep 80 , you should see the port open and something listening on it (ensure you are not running other processes using port 80). Have a look at the logs. Those are in data/egeoffrey/logs/egeoffrey.log . If the file is empty, you can run egeoffrey-cli house logs to see live logs from the different components. If a specific service only is not in a \"Up\" status (e.g. \"Restarting\"), have a look at the logs of the specific component with e.g. egeoffrey-cli house logs egeoffrey-gateway The installation is taking too long The installation can take a while while several software packages have been downloaded and installed The installer logs everything into /tmp/egeoffrey-installer.log , feel free to open a different session and monitor the file The installation did not succeed Open an issue on https://github.com/egeoffrey/egeoffrey-installer or alternatively drop a message on https://forum.egeoffrey.com . Do not forget to include the installation log file ( /tmp/egeoffrey-installer.log )","title":"Troubleshooting"},{"location":"installation/troubleshooting/#installation-troubleshooting","text":"What is something went wrong and you don't see eGeoffrey coming to life? Here are some basic steps you can take to understand what has happened.","title":"Installation troubleshooting"},{"location":"installation/troubleshooting/#i-cannot-access-the-web-interface-after-the-installation","text":"Ensure the system where eGeoffrey has been installed is reachable (e.g. you can ping it) Ensure your browser is pointing to the right IP address (the one reported by the installation process is not necessarily the right one) Ensure there is no firewall running ( iptables -L should have not DROP/DENY lines) Ensure all eGeoffrey's components are correctly running by executing egeoffrey-cli house status from within the directory where eGeoffrey has been installed. Ensure all of them are in a \"Up\" status. Check if the GUI service is accessible by running netstat -tunap |grep 80 , you should see the port open and something listening on it (ensure you are not running other processes using port 80). Have a look at the logs. Those are in data/egeoffrey/logs/egeoffrey.log . If the file is empty, you can run egeoffrey-cli house logs to see live logs from the different components. If a specific service only is not in a \"Up\" status (e.g. \"Restarting\"), have a look at the logs of the specific component with e.g. egeoffrey-cli house logs egeoffrey-gateway","title":"I cannot access the web interface after the installation"},{"location":"installation/troubleshooting/#the-installation-is-taking-too-long","text":"The installation can take a while while several software packages have been downloaded and installed The installer logs everything into /tmp/egeoffrey-installer.log , feel free to open a different session and monitor the file","title":"The installation is taking too long"},{"location":"installation/troubleshooting/#the-installation-did-not-succeed","text":"Open an issue on https://github.com/egeoffrey/egeoffrey-installer or alternatively drop a message on https://forum.egeoffrey.com . Do not forget to include the installation log file ( /tmp/egeoffrey-installer.log )","title":"The installation did not succeed"},{"location":"installation/where/","text":"Where will eGeoffrey stay? 'Sir, madam, in this section I'll tell you everything you need to know to take advantage of my services as soon as possible' . First choice you have to make is where eGeoffrey is going to live; it can live in the cloud or in your house, follow the appropriate section according to your needs. Even though this guide will try to be as simple as possible, some technical terms will be used. If you don't find those terms familiar, feel free to stop by our community and ask others; eGeoffrey's community is one of the most friendly communities out there, as we all are into butler education and standards. eGeoffrey in your house Yes, eGeoffrey can be with you at home but, good news, you don't have to get an extra room for it because it likes to live in computers; at the end of the day, eGeoffrey is an electronic butler, therefore it leaves inside a computer. You will know eGeoffrey better over time, and will realize it is not very showy but humble most of the time, so it will manage to live in a small and cheap computer such as a Raspberry/Orange Pi. Buying a computer might be a tough task if you're not an expert but, as we've said many times, eGeoffrey is here to make your life easier and not to make it more difficult. The easiest and most convenient way to let eGeoffrey be with you in your house is by purchasing a mini personal computer such as a Raspberry Pi or Orange Pi , running the default Raspbian operating system . Both options are cheap; they're worth less than 100$/\u20ac, are small and they consume very little power, which makes them ideal to have eGeoffrey on duty all the time. However, that means eGeoffrey will never sleep so, don't complain if you find eGeoffrey lazier than usual at some point. Other options Are you an experimented computer user? You might want to evaluate some other options. eGeoffrey runs on any ARM and x64 processors based computers, compatible with Docker and running a Linux operating system.","title":"Where to Install"},{"location":"installation/where/#where-will-egeoffrey-stay","text":"'Sir, madam, in this section I'll tell you everything you need to know to take advantage of my services as soon as possible' . First choice you have to make is where eGeoffrey is going to live; it can live in the cloud or in your house, follow the appropriate section according to your needs. Even though this guide will try to be as simple as possible, some technical terms will be used. If you don't find those terms familiar, feel free to stop by our community and ask others; eGeoffrey's community is one of the most friendly communities out there, as we all are into butler education and standards.","title":"Where will eGeoffrey stay?"},{"location":"installation/where/#egeoffrey-in-your-house","text":"Yes, eGeoffrey can be with you at home but, good news, you don't have to get an extra room for it because it likes to live in computers; at the end of the day, eGeoffrey is an electronic butler, therefore it leaves inside a computer. You will know eGeoffrey better over time, and will realize it is not very showy but humble most of the time, so it will manage to live in a small and cheap computer such as a Raspberry/Orange Pi. Buying a computer might be a tough task if you're not an expert but, as we've said many times, eGeoffrey is here to make your life easier and not to make it more difficult. The easiest and most convenient way to let eGeoffrey be with you in your house is by purchasing a mini personal computer such as a Raspberry Pi or Orange Pi , running the default Raspbian operating system . Both options are cheap; they're worth less than 100$/\u20ac, are small and they consume very little power, which makes them ideal to have eGeoffrey on duty all the time. However, that means eGeoffrey will never sleep so, don't complain if you find eGeoffrey lazier than usual at some point.","title":"eGeoffrey in your house"},{"location":"installation/where/#other-options","text":"Are you an experimented computer user? You might want to evaluate some other options. eGeoffrey runs on any ARM and x64 processors based computers, compatible with Docker and running a Linux operating system.","title":"Other options"},{"location":"setup/gui/","text":"Web Interface Walkthrough eGeoffrey's web interface is one of the multiple ways to interact with eGeoffrey and setup its accommodation; through the web interface, you'll be able to address the following: See messages from eGeoffrey classified by criticality: information, warnings or, if it's something serious, alerts. Display metrics, pictures from webcams, a to-do list, appointments, etcetera you've told eGeoffrey to deal with in advance. Text eGeoffrey throughout the chatbot window. Extend eGeoffrey's functionality by adding extensions to its new and empty accommodation. The three main parts of the web interface are: Notification Area : eGeoffrey reminds you what the name of your house (top left of the screen) saved connections for fast-switching between user accounts/houses (top left of the screen) date and time in the house's timezone (top center of the screen) notification messages classified by criticality (top right of the screen). The content of any new notification generated by eGeoffrey will also show up in the top right corner of the screen. Main Menu : username currently logged in and its icon (top of the menu) icon (green if connected, red if disconnected) and eGeoffrey's gateway you are connected to main menu, the place where you will explore everything eGeoffrey has to offer. \" Welcome \": introduction page explaining who eGeoffrey is and what he can do \" Getting Started \": introduction of eGeoffrey and useful pointers \" Chatbot \": have a live chat with your eGeoffrey! \" Notifications \": list of the most recent notifications \" Feed \": the latest data and measures coming in from your configured sensors \" Examples \": sample contents you can take inspiration from \" MY PLACE \": user-defined pages \" ADMINISTRATION \": admin pages (accessible only when logged in as an admin user) for configuring your house and eGeoffrey \" House \": house-related settings \" Setup \": House and web interface configuration \" Sensors \": to manage and create sensors \" Rules \": to manage and create rules \" Pages \": to manage and create web interface pages \" Menu \": to make your pages showing up in the menu and organize existing items \" eGeoffrey \": eGeoffrey configuration \" Packages \": list installed packages and check if they are up to date \" Modules \": list installed modules, check if they are running, edit their configuration \" Marketplace \": access eGeoffrey's Marketplace for installing additional packages \" Logs \": eGeoffrey's logs \" Database \": eGeoffrey's database status and size \" Gateway \": get access to eGeoffrey's message bus \" Advanced Editor \": manually edit any eGeoffrey's YAML configuration files \" Icons \": icon library to select the name of an icon whenever this is requested by a configuration wizard \" Help \": get help on eGeoffrey \" Docs \": access the docs website \" Forum \": access the forum \" Developers \": access the developer website Content display : main area where the page selected from the main menu will be loaded. When connecting the interface you will be automatically logged in as guest user (see the username in the top left of the screen). If the one accessing the GUI is not someone eGeoffrey trusts ( guest ), it won't display that much info. However, if the one accessing is the owner of the house ( admin ), eGeoffrey will display all the information and will allow to change its accommodation to, potentially, provide additional services. Logout To log out of the currently connected user (e.g. guest), just click on the username in the top left of the screen, where an exit icon (the one with the arrow) shows up just aside your username. Login The login screen request the user the following information: Gateway : the eGeoffrey Gateway is the main door for accessing eGeoffrey. All eGeoffrey components connects and interact via the gateway, ragardless where they are running: If eGeoffrey is installed in your local network, the hostname is the host or IP address where eGeoffrey is running and by default port is 443 and SSL is disabled; House : an eGeoffrey instance can take care of multiple houses hence you want to specify which one you want to enter. House ID and passcode are eventually used as username and password for authenticating against the gateway: If eGeoffrey is installed in your local network, by default the House ID is house without any passcode; User : to each house can belong one or multiple users. By default you will be automatically logged in as guest user. The following two users are pre-configured: guest / <no password> : guest user admin / admin : admin user","title":"First Access"},{"location":"setup/gui/#web-interface-walkthrough","text":"eGeoffrey's web interface is one of the multiple ways to interact with eGeoffrey and setup its accommodation; through the web interface, you'll be able to address the following: See messages from eGeoffrey classified by criticality: information, warnings or, if it's something serious, alerts. Display metrics, pictures from webcams, a to-do list, appointments, etcetera you've told eGeoffrey to deal with in advance. Text eGeoffrey throughout the chatbot window. Extend eGeoffrey's functionality by adding extensions to its new and empty accommodation. The three main parts of the web interface are: Notification Area : eGeoffrey reminds you what the name of your house (top left of the screen) saved connections for fast-switching between user accounts/houses (top left of the screen) date and time in the house's timezone (top center of the screen) notification messages classified by criticality (top right of the screen). The content of any new notification generated by eGeoffrey will also show up in the top right corner of the screen. Main Menu : username currently logged in and its icon (top of the menu) icon (green if connected, red if disconnected) and eGeoffrey's gateway you are connected to main menu, the place where you will explore everything eGeoffrey has to offer. \" Welcome \": introduction page explaining who eGeoffrey is and what he can do \" Getting Started \": introduction of eGeoffrey and useful pointers \" Chatbot \": have a live chat with your eGeoffrey! \" Notifications \": list of the most recent notifications \" Feed \": the latest data and measures coming in from your configured sensors \" Examples \": sample contents you can take inspiration from \" MY PLACE \": user-defined pages \" ADMINISTRATION \": admin pages (accessible only when logged in as an admin user) for configuring your house and eGeoffrey \" House \": house-related settings \" Setup \": House and web interface configuration \" Sensors \": to manage and create sensors \" Rules \": to manage and create rules \" Pages \": to manage and create web interface pages \" Menu \": to make your pages showing up in the menu and organize existing items \" eGeoffrey \": eGeoffrey configuration \" Packages \": list installed packages and check if they are up to date \" Modules \": list installed modules, check if they are running, edit their configuration \" Marketplace \": access eGeoffrey's Marketplace for installing additional packages \" Logs \": eGeoffrey's logs \" Database \": eGeoffrey's database status and size \" Gateway \": get access to eGeoffrey's message bus \" Advanced Editor \": manually edit any eGeoffrey's YAML configuration files \" Icons \": icon library to select the name of an icon whenever this is requested by a configuration wizard \" Help \": get help on eGeoffrey \" Docs \": access the docs website \" Forum \": access the forum \" Developers \": access the developer website Content display : main area where the page selected from the main menu will be loaded. When connecting the interface you will be automatically logged in as guest user (see the username in the top left of the screen). If the one accessing the GUI is not someone eGeoffrey trusts ( guest ), it won't display that much info. However, if the one accessing is the owner of the house ( admin ), eGeoffrey will display all the information and will allow to change its accommodation to, potentially, provide additional services.","title":"Web Interface Walkthrough"},{"location":"setup/gui/#logout","text":"To log out of the currently connected user (e.g. guest), just click on the username in the top left of the screen, where an exit icon (the one with the arrow) shows up just aside your username.","title":"Logout"},{"location":"setup/gui/#login","text":"The login screen request the user the following information: Gateway : the eGeoffrey Gateway is the main door for accessing eGeoffrey. All eGeoffrey components connects and interact via the gateway, ragardless where they are running: If eGeoffrey is installed in your local network, the hostname is the host or IP address where eGeoffrey is running and by default port is 443 and SSL is disabled; House : an eGeoffrey instance can take care of multiple houses hence you want to specify which one you want to enter. House ID and passcode are eventually used as username and password for authenticating against the gateway: If eGeoffrey is installed in your local network, by default the House ID is house without any passcode; User : to each house can belong one or multiple users. By default you will be automatically logged in as guest user. The following two users are pre-configured: guest / <no password> : guest user admin / admin : admin user","title":"Login"},{"location":"setup/house/","text":"House Setup Once eGeoffrey is installed and you can access the web interface, there is a very simple step to perform to setup your house: logout from the \" guest \" user login back as \" admin \" go to \" House \" / \" Settings \" under \" ADMINISTRATION \" from the main menu in the \" House \" tab, fill in the following: Name of your House : insert what you like Timezone offset : find the offset you need on https://en.wikipedia.org/wiki/List_of_UTC_time_offsets and Insert the number into the field. Language : leave it to \"en\" Units : select \"Metric\" or \"Imperial\". Latitude/Longitude : For the location of your house, click the link. If everything went OK, your location is given in two ways: DD (decimal degrees) and DMD (degrees, minutes, seconds). Take the DD values with two decimals. Insert the Latitude value into the field Latitude and the Longitude value into the field Latitude. Leave all the other tabs are they are. Confirm the data by clicking the \"Save\" at the bottom right side of the window.","title":"House Setup"},{"location":"setup/house/#house-setup","text":"Once eGeoffrey is installed and you can access the web interface, there is a very simple step to perform to setup your house: logout from the \" guest \" user login back as \" admin \" go to \" House \" / \" Settings \" under \" ADMINISTRATION \" from the main menu in the \" House \" tab, fill in the following: Name of your House : insert what you like Timezone offset : find the offset you need on https://en.wikipedia.org/wiki/List_of_UTC_time_offsets and Insert the number into the field. Language : leave it to \"en\" Units : select \"Metric\" or \"Imperial\". Latitude/Longitude : For the location of your house, click the link. If everything went OK, your location is given in two ways: DD (decimal degrees) and DMD (degrees, minutes, seconds). Take the DD values with two decimals. Insert the Latitude value into the field Latitude and the Longitude value into the field Latitude. Leave all the other tabs are they are. Confirm the data by clicking the \"Save\" at the bottom right side of the window.","title":"House Setup"}]}